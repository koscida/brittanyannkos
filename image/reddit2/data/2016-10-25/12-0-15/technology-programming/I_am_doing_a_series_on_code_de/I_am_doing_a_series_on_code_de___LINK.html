<!DOCTYPE html><html xmlns:cc="http://creativecommons.org/ns#"><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# medium-com: http://ogp.me/ns/fb/medium-com#"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Invariants in Code Design – code-design – Medium</title><link rel="canonical" href="https://medium.com/code-design/invariants-in-code-design-557c7864a047"><meta name="title" content="Invariants in Code Design – code-design"><meta name="referrer" content="always"><meta name="description" content="Invariant, quite literally, means something that does not change or vary."><meta property="og:title" content="Invariants in Code Design – code-design"><meta property="og:url" content="https://medium.com/code-design/invariants-in-code-design-557c7864a047"><meta property="og:image" content="https://cdn-images-1.medium.com/max/1200/1*iAZJF0JvQrFDnDxri88bGQ.gif"><meta property="fb:app_id" content="542599432471018"><meta property="og:description" content="Invariant, quite literally, means something that does not change or vary."><meta name="twitter:description" content="Invariant, quite literally, means something that does not change or vary."><meta name="twitter:image:src" content="https://cdn-images-1.medium.com/max/1200/1*iAZJF0JvQrFDnDxri88bGQ.gif"><link rel="publisher" href="https://plus.google.com/103654360130207659246"><link rel="author" href="https://medium.com/@themanikjindal"><meta name="author" content="Manik Jindal"><meta property="og:type" content="article"><meta name="twitter:card" content="summary_large_image"><meta property="article:publisher" content="https://www.facebook.com/medium"><meta property="article:author" content="https://medium.com/@themanikjindal"><meta property="fb:smart_publish:robots" content="noauto"><meta name="robots" content="index, follow"><meta property="article:published_time" content="2016-10-24T19:53:20.229Z"><meta name="twitter:creator" content="@theManikJindal"><meta name="twitter:site" content="@Medium"><meta property="og:site_name" content="Medium"><meta name="twitter:label1" value="Reading time"><meta name="twitter:data1" value="10 min read"><script type="application/ld+json">{"@context":"http://schema.org","@type":"NewsArticle","image":{"@type":"ImageObject","width":551,"height":314,"url":"https://cdn-images-1.medium.com/max/551/1*iAZJF0JvQrFDnDxri88bGQ.gif"},"datePublished":"2016-10-24T19:53:20.229Z","dateModified":"2016-10-25T13:49:27.160Z","headline":"Invariants in Code Design","name":"Invariants in Code Design","keywords":["Programming","Java","Design","Software Development","Learning To Code"],"author":{"@type":"Person","name":"Manik Jindal","url":"https://medium.com/@themanikjindal"},"creator":["Manik Jindal"],"publisher":{"@type":"Organization","name":"code-design","url":"https://medium.com/code-design","logo":{"@type":"ImageObject","width":215,"height":60,"url":"https://cdn-images-1.medium.com/max/215/1*5ztbgEt4NqpVaxTc64C-XA.png"}},"mainEntityOfPage":"https://medium.com/code-design/invariants-in-code-design-557c7864a047"}</script><meta name="twitter:app:name:iphone" content="Medium"><meta name="twitter:app:id:iphone" content="828256236"><meta name="twitter:app:url:iphone" content="medium://p/557c7864a047"><meta property="al:ios:app_name" content="Medium"><meta property="al:ios:app_store_id" content="828256236"><meta property="al:android:package" content="com.medium.reader"><meta property="al:android:app_name" content="Medium"><meta property="al:ios:url" content="medium://p/557c7864a047"><meta property="al:android:url" content="medium://p/557c7864a047"><meta property="al:web:url" content="https://medium.com/code-design/invariants-in-code-design-557c7864a047"><link rel="search" type="application/opensearchdescription+xml" title="Medium" href="/osd.xml" /><link rel="alternate" href="android-app://com.medium.reader/https/medium.com/p/557c7864a047" /><meta name="theme-color" content="#000000"><link rel="stylesheet" href="https://cdn-static-1.medium.com/_/fp/css/main-base.Ak1FH2fO3N8oV900Xnux-w.css"><script>if (window.top !== window.self) window.top.location = window.self.location.href;var OB_startTime = new Date().getTime(); var OB_loadErrors = []; function _onerror(e) { OB_loadErrors.push(e) }; if (document.addEventListener) document.addEventListener("error", _onerror, true); else if (document.attachEvent) document.attachEvent("onerror", _onerror); function _asyncScript(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("script"); s.type = "text/javascript"; s.async = true; s.src = u; f.parentNode.insertBefore(s, f);}function _asyncStyles(u) {var d = document, f = d.getElementsByTagName("script")[0], s = d.createElement("link"); s.rel = "stylesheet"; s.href = u; f.parentNode.insertBefore(s, f); return s}var _gaq = _gaq || [];_gaq.push(["_setAccount", "UA-24232453-2"]); _gaq.push(["_setDomainName", window.location.hostname]); _gaq.push(["_setAllowLinker", true]); _gaq.push(["_trackPageview"]);_asyncScript(("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js");(new Image()).src = "/_/stat?event=pixel.load&origin=" + encodeURIComponent(location.origin);</script><script>(function () {var height = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight; var width = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth; document.write("<style>section.section-image--fullBleed.is-backgrounded {padding-top: " + Math.round(1.1 * height) + "px;}section.section-image--fullScreen.is-backgrounded, section.section-image--coverFade.is-backgrounded {min-height: " + height + "px; padding-top: " + Math.round(0.5 * height) + "px;}.u-sizeViewHeight100 {height: " + height + "px !important;}.u-sizeViewHeightMin100 {min-height: " + height + "px !important;}section.section-image--coverFade, .section-image--fullScreen > .section-background, .section-image--coverFade > .section-background, .section-image--fullBleed .section-backgroundImage, .section-image--fullScreen .section-backgroundImage, .section-image--coverFade .section-backgroundImage {height: " + height + "px;}.section-image--content > .section-background, .section-image--content .section-backgroundImage, .section-aspectRatioViewportPlaceholder, .section-aspectRatioViewportCropPlaceholder {max-height: " + height + "px;}.section-image--fullBleed > .section-background {height: " + Math.round(1.1 * height) + "px;}.section-aspectRatioViewportBottomSpacer, .section-aspectRatioViewportBottomPlaceholder {max-height: " + Math.round(0.5 * height) + "px;}.zoomable:before {top: " + (-1 * height) + "px; left: " + (-1 * width) + "px; padding: " + height + "px " + width + "px;}</style>");})()</script><!--[if lt IE 9]><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js"></script><![endif]--><link rel="shortcut icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico" class="js-favicon is-default"><link rel="mask-icon" href="https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg" color="#171717"></head><body itemscope class=" postShowScreen v-disableMobileWebImageGrids is-noJs"><script>document.body.className = document.body.className.replace(/(^|\s)is-noJs(\s|$)/, "$1is-js$2")</script><div class="site-main" id="container"><div class="butterBar butterBar--error"></div><div class="surface"><div id="prerendered" class="screenContent"><canvas class="canvas-renderer"></canvas><div class="container u-maxWidth740 u-xs-margin0 notesPositionContainer js-notesPositionContainer"></div><div class="metabar u-clearfix js-metabar"><div class="metabar-inner u-marginAuto u-maxWidth1000 u-paddingLeft20 u-paddingRight20 js-metabarMiddle"><div class="metabar-block metabar-block--left u-floatLeft u-height65 u-xs-height56"><a href="https://medium.com/" class="siteNav-logo" data-log-event="home"><span class="svgIcon svgIcon--logoNew svgIcon--45px is-flushLeft"><svg class="svgIcon-use" width="45" height="45"  viewBox="-17 18 45 45" data-multipart="true"><path d="M11.525 28.078c-.472-.225-.858.002-.858.506v20.044l8.616 4.113c.948.46 1.717.14 1.717-.7v-19.3a.22.22 0 0 0-.124-.19l-9.35-4.46v-.01z"/><path d="M.333 43.696l9.83-15.247c.278-.43.89-.6 1.36-.38l9.364 4.47c.06.03.082.1.047.15L10.666 48.63.333 43.698v-.002z"/><path d="M-8.57 28.35c-.786-.375-1.053-.096-.592.62L.333 43.696l10.333 4.932L.356 32.635a.156.156 0 0 0-.06-.054l-8.866-4.23z"/><path d="M.333 52.033c0 .84-.643 1.22-1.43.844l-8.045-3.84c-.472-.224-.858-.82-.858-1.325V28.89c0-.672.515-.976 1.145-.675l9.133 4.36a.092.092 0 0 1 .055.084v19.37z"/></svg></span><span class="u-textScreenReader">Homepage</span></a><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><span class="u-inlineBlock u-height28 u-xs-height24 u-verticalAlignTop u-marginRight20 u-borderRightLighter"></span></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-marginRight18"><div class="u-alignBlock"><a class="js-logCollection" href="https://medium.com/code-design?source=logo-lo_a56f2cb9fbd0---f2fef9df7c42"><span class="u-uiTextBold u-fontSizeBase u-lineHeight18 u-xs-fontSize22 u-xs-lineHeight22 u-xs-noWrapWithEllipsis u-inlineBlock u-xs-maxWidth200 u-textColorDark">code-design</span></a></div></div><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56 u-xs-hide"><div class="u-alignBlock"><div class="buttonSet u-lineHeightInherit u-marginLeft0"><div class="buttonSet-inner"><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSizeSmallest u-uiTextMedium button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton is-smallPill"  data-action="sign-in-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/code-design" data-collection-id="f2fef9df7c42"><span class="button-label  js-buttonLabel">Follow</span></button></div></div></div></div></div><div class="metabar-block u-floatRight u-xs-absolute u-xs-textAlignRight u-xs-right0 u-xs-marginRight20 u-height65 u-xs-height56"><div class="u-alignMiddle u-inlineBlock u-verticalAlignTop u-height65 u-xs-height56"><div class="u-alignBlock"><div class="buttonSet u-lineHeightInherit"><a class="button button--primary button--chromeless u-accentColor--buttonNormal is-inSiteNavBar u-lineHeight30 u-height32"  href="https://medium.com/m/signin?redirect=https%3A%2F%2Fmedium.com%2Fcode-design%2Finvariants-in-code-design-557c7864a047" data-action="sign-in-prompt" data-redirect="https://medium.com/code-design/invariants-in-code-design-557c7864a047" data-action-source="nav_signup">Sign in / Sign up</a></div></div></div></div></div></div><div class="metabar metabar--spacer js-metabarSpacer u-height65 u-xs-height56"></div><div class="postActionsBar js-postActionsBar"><div class="postActionsBar-container container"><div class="postActionsBar-content row js-postActionsBarContent"><div class="postActions u-marginAuto u-height44 u-maxWidth1250 u-padding0 u-relative"><div class="u-absolute u-right0 u-marginRight20 js-readNextInteractions"><div class="u-floatLeft"><div class="u-floatRight buttonSet"><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div><div class="col u-xs-hide u-height44 u-width255 u-padding0 u-marginLeft0 u-verticalAlignTop u-foreground u-block u-floatLeft js-readNextMetabarRight"></div></div><div class="container u-maxWidth740 u-height44 u-marginAuto js-postActions-actionButtons"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="557c7864a047" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_bar"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/557c7864a047" data-action-source="post_actions_bar"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_bar"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button></div></div></div></div></div></div></div><div class="container u-maxWidth740"><div class="js-postShareWidget u-foreground u-sm-hide u-marginLeftNegative100 u-transition--fadeOut300 u-fixed"><ul><li class="u-uiTextSemibold u-textAlignCenter u-textColorNormal u-fontSizeSmallest u-textUppercase">Share</li><li class="u-textAlignCenter"><div class="js-actionRecommend" data-post-id="557c7864a047" data-is-icon-29px="true" data-is-vertical="true" data-has-recommend-list="true" data-source="post_share_widget"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/557c7864a047" data-action-source="post_share_widget"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button></div></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_share_widget"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button></li><li class="u-textAlignCenter"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_share_widget"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></li></ul></div></div><main role="main" class="u-block"><article class=" u-sizeViewHeightMin100 postArticle postArticle--full is-withAccentColors"  lang="en"><header class="container u-maxWidth740"><div class="postMetaHeader u-paddingBottom10 row"><div class="col u-size12of12 js-postMetaLockup"><div class="postMetaLockup postMetaLockup--authorWithBio u-flex js-postMetaLockup"><div class="u-flex0"><a class="link avatar u-baseColor--link"  href="https://medium.com/@themanikjindal?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-type="hover" data-user-id="47845374c4a7" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/40/40/0*45QB2xyDJhsx8DB_." class="avatar-image avatar-image--smaller" alt="Go to the profile of Manik Jindal"></a></div><div class="u-flex1 u-paddingLeft15 u-overflowHidden"><a class="link link link--darken link--darker u-baseColor--link"  href="https://medium.com/@themanikjindal?source=post_header_lockup" data-action="show-user-card" data-action-source="post_header_lockup" data-action-type="hover" data-user-id="47845374c4a7" dir="auto">Manik Jindal</a><span class="followState js-followState buttonSet-inner" data-user-id="47845374c4a7"><button class="button u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSizeSmallest u-uiTextMedium u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="post_header_lockup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-paddingLeft10 u-paddingRight10 u-height19 u-lineHeight13 u-verticalAlignMiddle u-fontSizeSmallest u-uiTextMedium u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton u-marginLeft10 u-marginTopNegative2 u-xs-hide"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/47845374c4a7" data-action-source="post_header_lockup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span><div class="postMetaInline js-testPostMetaInlineSupplemental"><time datetime="2016-10-24T19:53:20.229Z">22 hrs ago</time><span class="middotDivider u-fontSizeSmallest"></span><span class="readingTime" title="10 min read"></span></div></div></div></div></div></header><div class="postArticle-content js-postField js-notesSource js-trackedPost"  data-post-id="557c7864a047" data-source="post_page" data-collection-id="f2fef9df7c42" data-tracking-context="postPage"><section name="607d" class="section section--body section--first"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h1 name="7316" id="7316" class="graf graf--h3 graf--leading graf--title">Invariants in Code Design</h1><p name="4dc9" id="4dc9" class="graf graf--p graf-after--h3">Invariant, quite literally, means <em class="markup--em markup--p-em">something that does not change or vary.</em></p><p name="849e" id="849e" class="graf graf--p graf-after--p">In the context of computer programming, it can be seen as a set of assumptions a piece of code takes before it is able to perform any computation of importance. And if those assumptions aren’t actually true the result of the computation is meaningless, or more appropriately, it cannot be guaranteed that the result is correct.</p><p name="caaf" id="caaf" class="graf graf--p graf-after--p">Consider the following examples you would have come across before.</p><h4 name="1a17" id="1a17" class="graf graf--h4 graf-after--p">Bubble Sort</h4><p name="f9c2" id="f9c2" class="graf graf--p graf-after--h4">The bubble sort algorithm maintains the invariant <strong class="markup--strong markup--p-strong">that after <em class="markup--em markup--p-em">i</em> passes of the algorithm on the array, the last <em class="markup--em markup--p-em">i</em> elements of the array appear in sorted order. </strong>And once <em class="markup--em markup--p-em">n</em> passes are complete, the array is guaranteed to be sorted because the last <em class="markup--em markup--p-em">n</em> elements (equivalent to all the elements in the array) are sorted.</p><figure name="bae7" id="bae7" class="graf graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 525px; max-height: 299px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 56.99999999999999%;"></div><img class="graf-image" data-image-id="1*iAZJF0JvQrFDnDxri88bGQ.gif" data-width="551" data-height="314" data-is-featured="true" data-action="zoom" data-action-value="1*iAZJF0JvQrFDnDxri88bGQ.gif" src="https://cdn-images-1.medium.com/max/600/1*iAZJF0JvQrFDnDxri88bGQ.gif"></div><figcaption class="imageCaption"><a href="http://piratelearner.com/en/C/course/computer-science/algorithms/trivial-sorting-algorithms-bubble-sort/27/" data-href="http://piratelearner.com/en/C/course/computer-science/algorithms/trivial-sorting-algorithms-bubble-sort/27/" class="markup--anchor markup--figure-anchor" rel="nofollow" target="_blank">Bubble Sort</a></figcaption></figure><p name="cea8" id="cea8" class="graf graf--p graf-after--figure">If the invariant of the bubble sort were to fail at any intermediary step, the entire algorithm would fail in sorting the array. <strong class="markup--strong markup--p-strong">Invariants hence directly relate to the correctness of a program.</strong></p><h4 name="7467" id="7467" class="graf graf--h4 graf-after--p">The Shared Pointer Class in C++</h4><p name="b065" id="b065" class="graf graf--p graf-after--h4">In <em class="markup--em markup--p-em">C++</em> the <em class="markup--em markup--p-em">std::shared_ptr</em> class maintains the invariant that once all copies of the <em class="markup--em markup--p-em">std::shared_ptr</em> go out of scope, the underlying object will also be deleted. For this, the object maintains a <em class="markup--em markup--p-em">reference count </em>of the number of sharing owners. <strong class="markup--strong markup--p-strong">The invariant it holds is that the underlying object only exists as long as the reference count to it is greater than zero.</strong></p><figure name="f757" id="f757" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 544px; max-height: 416px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 76.5%;"></div><img class="graf-image" data-image-id="1*sBUcMK9vs0dKiNdY8dK6sA.gif" data-width="544" data-height="416" src="https://cdn-images-1.medium.com/max/800/1*sBUcMK9vs0dKiNdY8dK6sA.gif"></div><figcaption class="imageCaption"><a href="https://www.gogo-robot.com/2012/03/24/memory-management-part-2/" data-href="https://www.gogo-robot.com/2012/03/24/memory-management-part-2/" class="markup--anchor markup--figure-anchor" rel="nofollow" target="_blank">Shared Pointer in C++</a></figcaption></figure><p name="4621" id="4621" class="graf graf--p graf-after--figure">Corollary to the invariant stated above is that if a <em class="markup--em markup--p-em">std::shared_ptr</em> exists, it either points to nothing (<em class="markup--em markup--p-em">holds a null pointer</em>), or it references a valid object (<em class="markup--em markup--p-em">holds a dereferenceable pointer</em>).</p><p name="7d7f" id="7d7f" class="graf graf--p graf-after--p graf--last">In the scenario where the underlying object is deleted from outside the <em class="markup--em markup--p-em">std::shared_ptr</em> due to ownership mismanagement, no guarantees can be placed on the <em class="markup--em markup--p-em">std::shared_ptr</em> <em class="markup--em markup--p-em">object</em> and on any systems relying on it.</p></div></div></section><section name="1d75" class="section section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h3 name="b435" id="b435" class="graf graf--h3 graf--leading">Invariants in Object Oriented Design</h3><h4 name="7ed0" id="7ed0" class="graf graf--h4 graf-after--h3">Why Invariants?</h4><p name="1915" id="1915" class="graf graf--p graf-after--h4">Invariants once introduced in code make it easy, sometimes even trivial to understand where exactly a bug lies, or which component is at fault. Well established invariants greatly help a programmer to reason about their code. Hence, probably the best feature of object oriented design, also the least mentioned one, is the ability to introduce invariants in code.</p><h4 name="f06b" id="f06b" class="graf graf--h4 graf-after--p">How to introduce invariants?</h4><p name="0a9c" id="0a9c" class="graf graf--p graf-after--h4">In languages such as C++, a constructor-destructor pair becomes the best tool for introducing invariants. The proverbial life cycle of an object, <em class="markup--em markup--p-em">begins when the class’ constructor returns and it ends only when the destructor is called</em>. At each point of time in between these two events, the object is said to exist.</p><pre name="dace" id="dace" class="graf graf--pre graf-after--p">void doSomething() {}</pre><pre name="53fd" id="53fd" class="graf graf--pre graf-after--pre">struct Socket {<br>    Socket() {}<br>    ~Socket() {}    <br>};</pre><pre name="b9de" id="b9de" class="graf graf--pre graf-after--pre">int main() <br>{<br>    /* socket object does not exist */<br>    {<br>        /* socket object does not exist */<br>        Socket s;</pre><pre name="510c" id="510c" class="graf graf--pre graf-after--pre">        /* socket object exists */<br>        doSomething();<br>        <br>        /* socket object exists here as well */<br>    }<br>    /* socket object no longer exists */<br>}</pre><p name="95a5" id="95a5" class="graf graf--p graf-after--pre">It is common practice (and an excellent one at that too), to <strong class="markup--strong markup--p-strong">couple the object’s invariants with its life cycle.</strong> In other words, with the help of a constructor a programmer can ensure that an object is created only when the object’s invariants hold. Furthermore, if the programmer were careful to not let the invariants of the object be destroyed, he/she <strong class="markup--strong markup--p-strong">can be very well assured that as long as the object exists its invariants will hold</strong>. And that the invariants can only falter after the object is destroyed.</p><pre name="69cc" id="69cc" class="graf graf--pre graf-after--p">void doSomething() {}</pre><pre name="bef9" id="bef9" class="graf graf--pre graf-after--pre">/* <br>** <strong class="markup--strong markup--pre-strong">Invariant:</strong> If a socket object exist it is open, i.e., <br>** a socket object represents an open socket. <br>*/<br>struct Socket {<br>    Socket() {<br>        if(!open()) {<br>            throw exception(&quot;Failed to open&quot;);<br>        }<br>    }<br>    ~Socket() {}    <br>private:<br>    bool open() { // returns false if fails to open<br>        // implementation<br>    }<br>};</pre><pre name="3039" id="3039" class="graf graf--pre graf-after--pre">int main() {<br>    {<br>        /* socket object does not exist */<br>        Socket s;</pre><pre name="caee" id="caee" class="graf graf--pre graf-after--pre">        /* socket object now exists and the socket is surely open as well, because <strong class="markup--strong markup--pre-strong">if the socket had failed to open the constructor would have thrown an exception and the object would not have been constructed successfully </strong>*/<br>        doSomething();</pre><pre name="da42" id="da42" class="graf graf--pre graf-after--pre">        /* socket object still exists and is still open */<br>    }</pre><pre name="68c3" id="68c3" class="graf graf--pre graf-after--pre">    /* socket object no longer exists */<br>}</pre><p name="63b0" id="63b0" class="graf graf--p graf-after--pre">An object that does nothing other than being created and getting destroyed does not offer itself to much use. It is likely that the object would require to have methods, that help the client achieve what they need to. As a writer of the class <strong class="markup--strong markup--p-strong">the only rule that an object’s methods must follow is to not destroy the object’s invariants.</strong></p><p name="81f1" id="81f1" class="graf graf--p graf-after--p">To achieve this end goal encapsulation comes in handy. The power of encapsulation is such that once the programmer is sure <strong class="markup--strong markup--p-strong">that no object method, accessible from outside the class, destroys the invariant of the object,</strong> he/she can be assured that the object’s invariants will hold good as long as the object exists.</p><p name="f065" id="f065" class="graf graf--p graf-after--p">Moreover, it is not mandatory that the invariants be never destroyed. <strong class="markup--strong markup--p-strong">It is okay if the invariants are destroyed while the method is executing, only that they need to be restored before the method returns. Also, this restriction does not apply to private methods that are inaccessible from outside the class. </strong>Private methods of an object are free to destroy its invariants. Just that the public method that called the private method should restore the invariants before returning.</p><pre name="e64b" id="e64b" class="graf graf--pre graf-after--p">void doSomething() {}</pre><pre name="1310" id="1310" class="graf graf--pre graf-after--pre">/* <br>** Invariant: If a socket object exist it is open, i.e., <br>** a socket object represents an open socket. <br>*/<br>struct Socket {<br>    <br>    Socket() {<br>        if(!open()) {<br>            throw exception(&quot;Failed to open&quot;);<br>        }<br>    }</pre><pre name="74b1" id="74b1" class="graf graf--pre graf-after--pre">    ~Socket() {}<br>    <br>    reconnect() <br>    {<br>        close();<br>        /* <strong class="markup--strong markup--pre-strong">The invariant of the object has been destroyed as the object exists but it no longer holds an open socket</strong> */</pre><pre name="079e" id="079e" class="graf graf--pre graf-after--pre">        open();<br>        /* <strong class="markup--strong markup--pre-strong">The invariant of the object has been restored before the function returned</strong> */<br>    }</pre><pre name="b60c" id="b60c" class="graf graf--pre graf-after--pre">private:<br>    bool open() { // returns false if fails to open<br>        // implementation<br>    }<br>    void close() {<br>        // implementation<br>    }<br>};<br>int main() <br>{<br>    {<br>        // At no point in this block were the invariants destroyed<br>        Socket s;<br>        doSomething();<br>        s.reconnect();<br>        doSomething();<br>    }<br>}</pre><p name="c770" id="c770" class="graf graf--p graf-after--pre">Lastly, <strong class="markup--strong markup--p-strong">externally accessible object fields that take part in the object’s invariants are an absolute no-no.</strong> There should not be any second thought about this one.</p><h4 name="ec30" id="ec30" class="graf graf--h4 graf-after--p">Life Cycle of an Object</h4><figure name="b501" id="b501" class="graf graf--figure graf--layoutOutsetLeft graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 460px; max-height: 1640px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 356.5%;"></div><img class="graf-image" data-image-id="1*TmMuk7oYKWDKfoP7EdptEQ.png" data-width="460" data-height="1640" src="https://cdn-images-1.medium.com/max/600/1*TmMuk7oYKWDKfoP7EdptEQ.png"></div><figcaption class="imageCaption">Invariants coupled with an object’s life cycle</figcaption></figure><p name="f5c0" id="f5c0" class="graf graf--p graf-after--figure">The diagram on the left summarizes the coupling of the invariants associated with an object with its life cycle.</p><p name="76ca" id="76ca" class="graf graf--p graf-after--p">Once the constructor returns, the invariants are established and do not falter even when any procedure is called. The only time the invariants are destroyed are once the object ceases to exist.</p><p name="c6f6" id="c6f6" class="graf graf--p graf-after--p">Invariants might be temporarily violated within the object’s method, but all is well if they are restored before the method returns. The client that uses the object will never come to know if the invariant were ever destroyed.</p><h4 name="06ee" id="06ee" class="graf graf--h4 graf-after--p"><strong class="markup--strong markup--h4-strong"><em class="markup--em markup--h4-em">Side Note</em></strong></h4><p name="d7c7" id="d7c7" class="graf graf--p graf-after--h4">Object oriented languages lend themselves well to this technique. However there might be slight differences overall.</p><p name="c5d1" id="c5d1" class="graf graf--p graf-after--p">In C++ the destruction of an object is eager, i.e. the object’s destructor is called and its memory is reclaimed <strong class="markup--strong markup--p-strong">as soon as the object goes out of scope</strong>.</p><p name="679e" id="679e" class="graf graf--p graf-after--p">Java however, does not have an equivalent for C++ destructors. The finalize method comes close, but is quite inadequate. For one, it is not eager and secondly there are not many guarantees provided by the language specification as to when it will be called (read Effective Java by Joshua Bloch to know more).</p><p name="59ef" id="59ef" class="graf graf--p graf-after--p">The only problem with non-eager destruction is that the object’s life cycle cannot be used for RAII (Resource Acquisition is Initialization), which again is a fantastic technique I might cover later on in the series.</p><h3 name="d804" id="d804" class="graf graf--h3 graf-after--p">Common Pitfalls and FAQ</h3><h4 name="bd62" id="bd62" class="graf graf--h4 graf-after--h3">Whose responsibility is it to maintain the object’s invariants?</h4><p name="1995" id="1995" class="graf graf--p graf-after--h4">The onus of maintaining an object’s invariant lies with the writer of that class. At no point should one expect the client of the object to use the object in the right manner, or to not destroy its invariants.</p><p name="832b" id="832b" class="graf graf--p graf-after--p">It does not take an attacker to break the security of your object, any careless programmer would do. It is always better to assume that the user of your object will not maintain its invariants. Thus, it is your job to make your class air-tight, which ultimately lead to more robust code.</p><h4 name="f21d" id="f21d" class="graf graf--h4 graf-after--p">Defensive Copying</h4><p name="b462" id="b462" class="graf graf--p graf-after--h4">Consider the following piece of Java code</p><pre name="b6f9" id="b6f9" class="graf graf--pre graf-after--p">public class PrimeFactors {<br>    private List&lt;Integer&gt; primes;</pre><pre name="1313" id="1313" class="graf graf--pre graf-after--pre">    public PrimeFactors(List&lt;Integer&gt; primes) {<br>        this.primes = primes;<br>    }</pre><pre name="0b8e" id="0b8e" class="graf graf--pre graf-after--pre">    public List&lt;Integer&gt; get(Integer i) {<br>        // returns list of prime factors for the integer i<br>    }</pre><pre name="6961" id="6961" class="graf graf--pre graf-after--pre">    public static void main(String[] args) {<br>        List&lt;Integer&gt; primes = Arrays.asList({2, 3, 5, 7});<br>        PrimeFactors factors = new PrimeFactors(primes);</pre><pre name="cb7a" id="cb7a" class="graf graf--pre graf-after--pre">        factors.get(10); <strong class="markup--strong markup--pre-strong">// returns 2 and 5 </strong></pre><pre name="0e78" id="0e78" class="graf graf--pre graf-after--pre">        primes.clear();<br>        factors.get(10); <strong class="markup--strong markup--pre-strong">// undefined behavior</strong><br>    }<br>}</pre><p name="6856" id="6856" class="graf graf--p graf-after--pre">In the above example, the correct functioning of the class depends on the list of primes it receives as argument. Thus it becomes an invariant of the <em class="markup--em markup--p-em">PrimeFactors class </em>to contain a list of primes.</p><p name="536f" id="536f" class="graf graf--p graf-after--p">However in the example above, the programmer has not done enough to maintain the object’s invariants. The list of primes is mutable, and as soon as someone updates the lists’ contents the invariants of the <em class="markup--em markup--p-em">factors object </em>go for a toss<em class="markup--em markup--p-em">.</em></p><p name="d409" id="d409" class="graf graf--p graf-after--p">Here the programmer should have made a defensive copy of the list in the constructor as shown below.</p><pre name="d8a3" id="d8a3" class="graf graf--pre graf-after--p">public PrimeFactors(List&lt;Integer&gt; primes) {<br>    this.primes = new ArrayList&lt;&gt;(primes); <strong class="markup--strong markup--pre-strong">// defensive copying</strong><br>}</pre><h4 name="9a6e" id="9a6e" class="graf graf--h4 graf-after--pre">Argument Checking</h4><p name="15b9" id="15b9" class="graf graf--p graf-after--h4">Consider the case when the user of the <em class="markup--em markup--p-em">PrimeFactors class </em>creates an object by passing in<em class="markup--em markup--p-em"> </em>a list of numbers that aren’t prime.</p><pre name="a32d" id="a32d" class="graf graf--pre graf-after--p">public class PrimeFactors {</pre><pre name="6f9c" id="6f9c" class="graf graf--pre graf-after--pre">    private List&lt;Integer&gt; primes;</pre><pre name="efcd" id="efcd" class="graf graf--pre graf-after--pre">    public PrimeFactors(List&lt;Integer&gt; primes) {<br>        this.primes = new ArrayList&lt;&gt;(primes);<br>    }</pre><pre name="fb4c" id="fb4c" class="graf graf--pre graf-after--pre">    public List&lt;Integer&gt; get(Integer i) {<br>        // returns list of prime factors for the integer i<br>    }</pre><pre name="2abc" id="2abc" class="graf graf--pre graf-after--pre">    public static void main(String[] args) {<br>        List&lt;Integer&gt; primes = Arrays.asList({1, 2, 4});<br>        PrimeFactors factors= new PrimeFactors(primes);<br>        factors.get(10); <strong class="markup--strong markup--pre-strong">// undefined behavior</strong><br>    }<br>}</pre><p name="3b89" id="3b89" class="graf graf--p graf-after--pre">As the object’s correct functioning depends on the list of primes but no argument checking was done, <strong class="markup--strong markup--p-strong">the constructor returns without an error but the invariants do not hold</strong>. Here the programmer has not done their due diligence again, and has again opened their class for exploitation.</p><p name="a19e" id="a19e" class="graf graf--p graf-after--p">Thus, if your object’s correct functioning depends on an object supplied by the user always check if it satisfies your invariants. See the correction below.</p><pre name="2db2" id="2db2" class="graf graf--pre graf-after--p">public class PrimeFactors {<br>    private List&lt;Integer&gt; primes;</pre><pre name="5c9a" id="5c9a" class="graf graf--pre graf-after--pre">    private void checkPrimes() {<br>        <strong class="markup--strong markup--pre-strong">// throws an exception if the list has a non prime number </strong><br>    }</pre><pre name="ce7a" id="ce7a" class="graf graf--pre graf-after--pre">    public PrimeFactors(List&lt;Integer&gt; primes) {<br>        this.primes = new ArrayList&lt;&gt;(primes);<br>        checkPrimes();<br>    }<br>    public List&lt;Integer&gt; get(Integer i) {<br>        // returns list of prime factors for the integer i<br>    }</pre><pre name="5b9d" id="5b9d" class="graf graf--pre graf-after--pre">    public static void main(String[] args) {<br>        List&lt;Integer&gt; primes = Arrays.asList({1, 2, 4});</pre><pre name="1d06" id="1d06" class="graf graf--pre graf-after--pre">        <strong class="markup--strong markup--pre-strong">/* following statement throws an exception */</strong><br>        PrimeFactors factors= new PrimeFactors(primes);</pre><pre name="74e2" id="74e2" class="graf graf--pre graf-after--pre">        factors.get(10); <strong class="markup--strong markup--pre-strong">// control never reaches here</strong><br>    }<br>}</pre><h4 name="1cb1" id="1cb1" class="graf graf--h4 graf-after--pre">Argument Checking in Multi Threaded Environment</h4><p name="0073" id="0073" class="graf graf--p graf-after--h4">If you would have noticed closely, the <em class="markup--em markup--p-em">checkPrimes method </em>in the previous code snippet is an object method that does not take any arguments. Hence, if it is actually checking the arguments it is doing so on object fields rather than the arguments that were passed in. This is not by accident.</p><p name="7cf9" id="7cf9" class="graf graf--p graf-after--p">In a multi-threaded environment, checking arguments and then assigning them to object fields open the class up for a <strong class="markup--strong markup--p-strong">check-then-act exploit</strong>. We will discuss it more when we will come around to thread safety. Till then, just <strong class="markup--strong markup--p-strong">remember to assign first and then check the fields instead of the arguments.</strong></p><p name="daf5" id="daf5" class="graf graf--p graf-after--p">Here’s a cool-ass definition for thread safety:</p><blockquote name="8a6b" id="8a6b" class="graf graf--blockquote graf-after--p">Thread-Safety is just the ability to maintain an object’s invariants in a multi-threaded environment.</blockquote><h4 name="a439" id="a439" class="graf graf--h4 graf-after--blockquote">Argument Checking in Release Build</h4><p name="e367" id="e367" class="graf graf--p graf-after--h4">A lot of people have asked me this question, “Should argument checking and assertions go into release build as well?”. The answer is — it depends.</p><p name="98fd" id="98fd" class="graf graf--p graf-after--p">My personal opinion on this one is to keep it in unless you know you have to get rid of them. Here is a line of questioning you can use to identify whether or not you should disable them in release builds.</p><ol class="postList"><li name="0403" id="0403" class="graf graf--li graf-after--p">Is the argument checking actually input validation from the end user? If yes, definitely keep it in.</li><li name="f8b3" id="f8b3" class="graf graf--li graf-after--li">Is performance critical to your system and have you run profilers on your code? And have those profilers pointed at argument checking to be the bottleneck? If no, keep it in.</li><li name="c779" id="c779" class="graf graf--li graf-after--li">Is your automated test suite actually good? Code coverage is a factor but not the only one. If no, keep it in.</li><li name="3d6d" id="3d6d" class="graf graf--li graf-after--li">Do you have balls of steel and weekends to spare for prod issues? If yes, do what you gotta do.</li></ol><h4 name="efd6" id="efd6" class="graf graf--h4 graf-after--li">Inheritance</h4><p name="5dc3" id="5dc3" class="graf graf--p graf-after--h4">Another factor to consider while closing all open holes in your class, is inheritance. If you have <em class="markup--em markup--p-em">protected members (fields and methods)</em>, and your class is not <em class="markup--em markup--p-em">final (can be sub-classed):</em></p><ol class="postList"><li name="132a" id="132a" class="graf graf--li graf-after--p"><em class="markup--em markup--li-em">Protected fields </em>that take part in the object’s invariants are again an absolute no-no.</li><li name="6f9e" id="6f9e" class="graf graf--li graf-after--li"><em class="markup--em markup--li-em">Protected methods </em>should not destroy the invariants of the object, if destroyed the invariants must be restored before the method returns.</li></ol><p name="e220" id="e220" class="graf graf--p graf-after--li">Clients that inherit your class can be no more trusted than the user of the class, hence, <strong class="markup--strong markup--p-strong">the protected access members should also count as externally accessible members</strong>.</p><h3 name="74da" id="74da" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="3ad3" id="3ad3" class="graf graf--p graf-after--h3 graf--last">Invariants are a great tool and make the life of a programmer easier, when done right. Furthermore, object oriented design lends itself well to invariants.</p></div></div></section><section name="d73e" class="section section--body section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="7cf6" id="7cf6" class="graf graf--p graf--leading">If your takeaway from the post is — “<em class="markup--em markup--p-em">I get it, invariants are important.</em>” or “<em class="markup--em markup--p-em">I can’t wait to use them in my code.</em>”, then my job here is done.</p><p name="8703" id="8703" class="graf graf--p graf-after--p">Leave me a comment if you found the post interesting or insightful, or if you have a different perspective than mine.</p><p name="2bf4" id="2bf4" class="graf graf--p graf-after--p graf--last"><a href="https://medium.com/u/47845374c4a7" data-href="https://medium.com/u/47845374c4a7" data-anchor-type="2" data-user-id="47845374c4a7" data-action="show-user-card" data-action-type="hover" class="markup--user markup--p-user" target="_blank">-Manik Jindal</a></p></div></div></section></div><footer class="u-paddingTop10"><div class="container u-maxWidth740"><div class="row"><div class="col u-size12of12"></div></div><div class="row"><div class="col u-size12of12 js-postTags"><div class="u-paddingBottom10"><div class="tags tags--postTags tags--borderless"><a class="link u-baseColor--link"  href="https://medium.com/tag/programming?source=post" data-action-source="post">Programming</a><a class="link u-baseColor--link"  href="https://medium.com/tag/java?source=post" data-action-source="post">Java</a><a class="link u-baseColor--link"  href="https://medium.com/tag/design?source=post" data-action-source="post">Design</a><a class="link u-baseColor--link"  href="https://medium.com/tag/software-development?source=post" data-action-source="post">Software Development</a><a class="link u-baseColor--link"  href="https://medium.com/tag/learning-to-code?source=post" data-action-source="post">Learning To Code</a></div></div></div></div><div class="row js-postActionsFooter"><div class="postActions col u-size12of12"><div class="u-floatLeft buttonSet buttonSet--withLabels"><div class="buttonSet-inner"><div class="js-actionRecommend" data-post-id="557c7864a047" data-is-icon-29px="true" data-has-recommend-list="true" data-source="post_actions_footer"><button class="button button--primary button--large button--chromeless is-touchIconFadeInPulse u-accentColor--buttonNormal button--withIcon button--withSvgIcon u-accentColor--iconLight js-actionRecommendButton"  title="Recommend to share this article with your followers and let the author know you liked it" aria-label="Recommend to share this article with your followers and let the author know you liked it" data-action="sign-in-prompt" data-sign-in-action="upvote" data-requires-token="true" data-redirect="https://medium.com/_/vote/p/557c7864a047" data-action-source="post_actions_footer"><span class="button-defaultState"><span class="svgIcon svgIcon--heart svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.215 23.716c-.348.288-.984.826-1.376 1.158a.526.526 0 0 1-.68 0c-.36-.307-.92-.78-1.22-1.03C9.22 20.734 3 15.527 3 10.734 3 7.02 5.916 4 9.5 4c1.948 0 3.77.898 5 2.434C15.73 4.898 17.552 4 19.5 4c3.584 0 6.5 3.02 6.5 6.734 0 4.9-6.125 9.96-9.785 12.982zM19.5 5.2c-1.774 0-3.423.923-4.41 2.468a.699.699 0 0 1-.59.323.706.706 0 0 1-.59-.32c-.988-1.54-2.637-2.47-4.41-2.47-2.922 0-5.3 2.49-5.3 5.54 0 4.23 6.19 9.41 9.517 12.19.217.18.566.48.783.66l.952-.79c3.496-2.88 9.348-7.72 9.348-12.05 0-3.05-2.378-5.53-5.3-5.53z"/></svg></span></span><span class="button-activeState"><span class="svgIcon svgIcon--heartFilled svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M19.5 4c-1.948 0-3.77.898-5 2.434C13.27 4.898 11.448 4 9.5 4 5.916 4 3 7.02 3 10.734c0 4.793 6.227 10 9.95 13.11.296.25.853.723 1.212 1.03.196.166.48.166.677 0 .39-.332 1.02-.87 1.37-1.158 3.66-3.022 9.79-8.08 9.79-12.982C26 7.02 23.08 4 19.5 4z" fill-rule="evenodd"/></svg></span></span></button></div></div><div class="buttonSet-inner"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  data-action="scroll-to-responses" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--response svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.27 20.058c1.89-1.826 2.754-4.17 2.754-6.674C24.024 8.21 19.67 4 14.1 4 8.53 4 4 8.21 4 13.384c0 5.175 4.53 9.385 10.1 9.385 1.007 0 2-.14 2.95-.41.285.25.592.49.918.7 1.306.87 2.716 1.31 4.19 1.31.276-.01.494-.14.6-.36a.625.625 0 0 0-.052-.65c-.61-.84-1.042-1.71-1.282-2.58a5.417 5.417 0 0 1-.154-.75zm-3.85 1.324l-.083-.28-.388.12a9.72 9.72 0 0 1-2.85.424c-4.96 0-8.99-3.706-8.99-8.262 0-4.556 4.03-8.263 8.99-8.263 4.95 0 8.77 3.71 8.77 8.27 0 2.25-.75 4.35-2.5 5.92l-.24.21v.32c0 .07 0 .19.02.37.03.29.1.6.19.92.19.7.49 1.4.89 2.08-.93-.14-1.83-.49-2.67-1.06-.34-.22-.88-.48-1.16-.74z"/></svg></span></button></div></div><div class="u-floatRight buttonSet buttonSet--narrow"><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Twitter" aria-label="Share on Twitter" data-action="share-on-twitter" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--twitter svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M21.967 11.8c.018 5.93-4.607 11.18-11.177 11.18-2.172 0-4.25-.62-6.047-1.76l-.268.422-.038.5.186.013.168.012c.3.02.44.032.6.046 2.06-.026 3.95-.686 5.49-1.86l1.12-.85-1.4-.048c-1.57-.055-2.92-1.08-3.36-2.51l-.48.146-.05.5c.22.03.48.05.75.08.48-.02.87-.07 1.25-.15l2.33-.49-2.32-.49c-1.68-.35-2.91-1.83-2.91-3.55 0-.05 0-.01-.01.03l-.49-.1-.25.44c.63.36 1.35.57 2.07.58l1.7.04L7.4 13c-.978-.662-1.59-1.79-1.618-3.047a4.08 4.08 0 0 1 .524-1.8l-.825.07a12.188 12.188 0 0 0 8.81 4.515l.59.033-.06-.59v-.02c-.05-.43-.06-.63-.06-.87a3.617 3.617 0 0 1 6.27-2.45l.2.21.28-.06c1.01-.22 1.94-.59 2.73-1.09l-.75-.56c-.1.36-.04.89.12 1.36.23.68.58 1.13 1.17.85l-.21-.45-.42-.27c-.52.8-1.17 1.48-1.92 2L22 11l.016.28c.013.2.014.35 0 .52v.04zm.998.038c.018-.22.017-.417 0-.66l-.498.034.284.41a8.183 8.183 0 0 0 2.2-2.267l.97-1.48-1.6.755c.17-.08.3-.02.34.03a.914.914 0 0 1-.13-.292c-.1-.297-.13-.64-.1-.766l.36-1.254-1.1.695c-.69.438-1.51.764-2.41.963l.48.15a4.574 4.574 0 0 0-3.38-1.484 4.616 4.616 0 0 0-4.61 4.613c0 .29.02.51.08.984l.01.02.5-.06.03-.5c-3.17-.18-6.1-1.7-8.08-4.15l-.48-.56-.36.64c-.39.69-.62 1.48-.65 2.28.04 1.61.81 3.04 2.06 3.88l.3-.92c-.55-.02-1.11-.17-1.6-.45l-.59-.34-.14.67c-.02.08-.02.16 0 .24-.01 2.12 1.55 4.01 3.69 4.46l.1-.49-.1-.49c-.33.07-.67.12-1.03.14-.18-.02-.43-.05-.64-.07l-.76-.09.23.73c.57 1.84 2.29 3.14 4.28 3.21l-.28-.89a8.252 8.252 0 0 1-4.85 1.66c-.12-.01-.26-.02-.56-.05l-.17-.01-.18-.01L2.53 21l1.694 1.07a12.233 12.233 0 0 0 6.58 1.917c7.156 0 12.2-5.73 12.18-12.18l-.002.04z"/></svg></span></button><button class="button button--large button--dark button--chromeless is-touchIconBlackPulse u-baseColor--buttonDark button--withIcon button--withSvgIcon"  title="Share on Facebook" aria-label="Share on Facebook" data-action="share-on-facebook" data-action-source="post_actions_footer"><span class="svgIcon svgIcon--facebook svgIcon--29px"><svg class="svgIcon-use" width="29" height="29" viewBox="0 0 29 29" ><path d="M16.39 23.61v-5.808h1.846a.55.55 0 0 0 .546-.48l.36-2.797a.551.551 0 0 0-.547-.62H16.39V12.67c0-.67.12-.813.828-.813h1.474a.55.55 0 0 0 .55-.55V8.803a.55.55 0 0 0-.477-.545c-.436-.06-1.36-.116-2.22-.116-2.5 0-4.13 1.62-4.13 4.248v1.513H10.56a.551.551 0 0 0-.55.55v2.797c0 .304.248.55.55.55h1.855v5.76c-4.172-.96-7.215-4.7-7.215-9.1 0-5.17 4.17-9.36 9.31-9.36 5.14 0 9.31 4.19 9.31 9.36 0 4.48-3.155 8.27-7.43 9.15M14.51 4C8.76 4 4.1 8.684 4.1 14.46c0 5.162 3.75 9.523 8.778 10.32a.55.55 0 0 0 .637-.543v-6.985a.551.551 0 0 0-.55-.55H11.11v-1.697h1.855a.55.55 0 0 0 .55-.55v-2.063c0-2.02 1.136-3.148 3.03-3.148.567 0 1.156.027 1.597.06v1.453h-.924c-1.363 0-1.93.675-1.93 1.912v1.78c0 .3.247.55.55.55h2.132l-.218 1.69H15.84c-.305 0-.55.24-.55.55v7.02c0 .33.293.59.623.54 5.135-.7 9.007-5.11 9.007-10.36C24.92 8.68 20.26 4 14.51 4"/></svg></span></button></div></div></div></div><div class="js-postPromotionWrapper postPromotionWrapper" data-location-id="footer_above_post_attribution"></div><div class="container u-maxWidth740 js-postAttributionFooterContainer"><div class="u-margin20"></div><div class="row js-postFooterInfo"><div class="col u-size6of12 u-xs-size12of12"><li class="card card-user"><div class="u-marginLeft20 u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="47845374c4a7"><button class="button button--small u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="footer_card"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/47845374c4a7" data-action-source="footer_card_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="u-tableCell "><a class="link avatar u-baseColor--link"  href="https://medium.com/@themanikjindal?source=footer_card" title="Go to the profile of Manik Jindal" aria-label="Go to the profile of Manik Jindal" data-action-source="footer_card" data-user-id="47845374c4a7" dir="auto"><img  src="https://cdn-images-1.medium.com/fit/c/60/60/0*45QB2xyDJhsx8DB_." class="avatar-image avatar-image--small" alt="Go to the profile of Manik Jindal"></a></div><div class="card-content"><h3 class="card-name"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/@themanikjindal" property="cc:attributionName" title="Go to the profile of Manik Jindal" aria-label="Go to the profile of Manik Jindal" rel="author cc:attributionUrl" data-user-id="47845374c4a7" dir="auto">Manik Jindal</a></h3></div></li></div><div class="col u-size6of12 u-xs-size12of12 u-xs-marginTop30 u-xs-marginBottom20"><li class="card card-collection"><div class="u-marginLeft20 u-floatRight"><button class="button button--primary button--small u-noUserSelect button--withChrome u-accentColor--buttonNormal js-relationshipButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-follow-collection" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/collection/code-design" data-collection-id="f2fef9df7c42"><span class="button-label  js-buttonLabel">Follow</span></button></div><div class="u-tableCell "><div class="u-tableCell "><a class="link avatar avatar--roundedRectangle u-baseColor--link"  href="https://medium.com/code-design?source=footer_card" title="Go to code-design" aria-label="Go to code-design" data-action-source="footer_card"><img src="https://cdn-images-1.medium.com/fit/c/60/60/1*zWPBJCcqgMGY8CY3TIEqxA.png" class="avatar-image u-size60x60" alt="code-design"></a></div></div><div class="card-content"><h3 class="card-name"><a class="link link--primary u-accentColor--hoverTextNormal"  href="https://medium.com/code-design?source=footer_card" rel="collection" data-action-source="footer_card">code-design</a></h3><p class="card-description">Foundations of good code design.</p><div class="buttonSet"></div></div></li></div></div></div><div class="js-postBundleWrapper postBundleWrapper"></div><div class="js-postFooterPlacements"></div><div class="responsesWrapper supplementalPostContent js-responsesWrapper"></div><div class="supplementalPostContent js-readNext"></div><div class="supplementalPostContent js-heroPromo"></div></footer></article></main><div class="promoCardWrapper u-fixed js-promoCardWrapper"><div class="promoCard u-padding20 u-backgroundWhite u-textColorDarker"><button class="button button--close button--chromeless u-baseColor--buttonNormal"  data-action="popup-dismiss">&times;</button><div class="u-uiTextRegular u-paddingBottom20 u-paddingRight30 u-fontSizeSmall u-lineHeightTight u-marginBottom20 u-borderBottomLightest">Don’t miss Manik Jindal’s next story</div><div class="u-floatRight"><span class="followState js-followState buttonSet-inner" data-user-id="47845374c4a7"><button class="button u-noUserSelect button--withChrome u-baseColor--buttonNormal button--withHover button--unblock js-unblockButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-block-user" data-requires-token="true" data-action-source="user_follow_popup"><span class="button-label  button-defaultState">Blocked</span><span class="button-label button-hoverState">Unblock</span></button><button class="button button--primary u-noUserSelect button--withChrome u-accentColor--buttonNormal button--follow js-followButton"  data-action="sign-in-prompt" data-sign-in-action="toggle-subscribe-user" data-requires-token="true" data-redirect="https://medium.com/_/subscribe/user/47845374c4a7" data-action-source="user_follow_popup_follow"><span class="button-label  button-defaultState js-buttonLabel">Follow</span><span class="button-label button-activeState">Following</span></button></span></div><div class="avatar"><img  src="https://cdn-images-1.medium.com/fit/c/40/40/0*45QB2xyDJhsx8DB_." class="avatar-image avatar-image--smaller" alt="Manik Jindal"><span class="avatar-text">Manik Jindal</span></div></div></div><style class="js-collectionStyle">
.u-accentColor--borderLight {border-color: #02B875 !important;}
.u-accentColor--borderNormal {border-color: #02B875 !important;}
.u-accentColor--borderDark {border-color: #1C9963 !important;}
.u-accentColor--iconLight .svgIcon,.u-accentColor--iconLight.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconNormal .svgIcon,.u-accentColor--iconNormal.svgIcon {fill: #02B875 !important;}
.u-accentColor--iconDark .svgIcon,.u-accentColor--iconDark.svgIcon {fill: #1C9963 !important;}
.u-accentColor--textNormal {color: #1C9963 !important;}
.u-accentColor--hoverTextNormal:hover {color: #1C9963 !important;}
.u-accentColor--textNormal.u-accentColor--textDarken:hover {color: #1C9963 !important;}
.u-accentColor--textDark {color: #1C9963 !important;}
.u-accentColor--backgroundLight {background-color: #02B875 !important;}
.u-accentColor--backgroundNormal {background-color: #02B875 !important;}
.u-accentColor--backgroundDark {background-color: #1C9963 !important;}
.u-accentColor--buttonDark {border-color: #1C9963 !important; color: #1C9963 !important;}
.u-accentColor--buttonDark:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonDark .icon:before,.u-accentColor--buttonDark .svgIcon{color: #1C9963 !important; fill: #1C9963 !important;}
.u-accentColor--buttonNormal {border-color: #02B875 !important; color: #1C9963 !important;}
.u-accentColor--buttonNormal:hover {border-color: #1C9963 !important;}
.u-accentColor--buttonNormal .icon:before,.u-accentColor--buttonNormal .svgIcon{color: #02B875 !important; fill: #02B875 !important;}
.u-accentColor--buttonNormal.button--filled .icon:before,.u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonDark.button--filled,.u-accentColor--buttonDark.button--withChrome.is-active,.u-accentColor--fillWhenActive.is-active {background-color: #1C9963 !important; border-color: #1C9963 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-accentColor--buttonNormal.button--filled,.u-accentColor--buttonNormal.button--withChrome.is-active {background-color: #02B875 !important; border-color: #02B875 !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.postArticle.is-withAccentColors .markup--user,.postArticle.is-withAccentColors .markup--query {color: #1C9963 !important;}
.u-accentColor--highlightFaint {background-color: rgba(233, 253, 240, 1) !important;}
.u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(125, 255, 179, 1) !important;}
.postArticle.is-withAccentColors .markup--quote.is-other {background-color: rgba(233, 253, 240, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(233, 253, 240, 1), rgba(233, 253, 240, 1));}
.postArticle.is-withAccentColors .markup--quote.is-me {background-color: rgba(173, 255, 207, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(173, 255, 207, 1), rgba(173, 255, 207, 1));}
.postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--quote.is-selected {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}
.postArticle.is-withAccentColors .markup--highlight {background-color: rgba(125, 255, 179, 1) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(125, 255, 179, 1), rgba(125, 255, 179, 1));}</style><style class="js-collectionStyleConstant">.u-imageBgColor {background-color: rgba(0, 0, 0, 0.24705882352941178);}
.u-imageSpectrum .u-baseColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconLight .svgIcon,.u-imageSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--iconNormal .svgIcon,.u-imageSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--iconDark .svgIcon,.u-imageSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-baseColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important; color: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-baseColor--buttonLight .icon:before,.u-imageSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(255, 255, 255, 0.8) !important; fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-baseColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonDark .icon:before,.u-imageSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal .icon:before,.u-imageSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--buttonDark.button--filled,.u-imageSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--buttonNormal.button--filled,.u-imageSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-baseColor--link {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-baseColor--link.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-imageSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--link.link--darker {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(255, 255, 255, 0.8);}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(255, 255, 255, 0.4) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(255, 255, 255, 0.4980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderLight {border-color: rgba(255, 255, 255, 0.6980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--borderDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconLight .svgIcon,.u-imageSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(255, 255, 255, 0.8) !important;}
.u-imageSpectrum .u-accentColor--iconNormal .svgIcon,.u-imageSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--iconDark .svgIcon,.u-imageSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textNormal {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--textDark {color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--backgroundLight {background-color: rgba(255, 255, 255, 0.8980392156862745) !important;}
.u-imageSpectrum .u-accentColor--backgroundNormal {background-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--backgroundDark {background-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark {border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonDark .icon:before,.u-imageSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal {border-color: rgba(255, 255, 255, 0.8980392156862745) !important; color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(255, 255, 255, 0.9490196078431372) !important; fill: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-imageSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonDark.button--filled,.u-imageSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-imageSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(255, 255, 255, 1) !important; border-color: rgba(255, 255, 255, 1) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .u-accentColor--buttonNormal.button--filled,.u-imageSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: rgba(255, 255, 255, 0.9490196078431372) !important; border-color: rgba(255, 255, 255, 0.9490196078431372) !important; color: rgba(0, 0, 0, 0.24705882352941178) !important; fill: rgba(0, 0, 0, 0.24705882352941178) !important;}
.u-imageSpectrum .postArticle.is-withAccentColors .markup--user,.u-imageSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(255, 255, 255, 0.9490196078431372) !important;}
.u-imageSpectrum .u-accentColor--highlightFaint {background-color: rgba(255, 255, 255, 0.2) !important;}
.u-imageSpectrum .u-accentColor--highlightStrong.is-active .svgIcon {fill: rgba(255, 255, 255, 0.6) !important;}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: rgba(255, 255, 255, 0.2) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-other {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.2));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: rgba(255, 255, 255, 0.4) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-me {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-targeted {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--quote.is-selected {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}
.postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: rgba(255, 255, 255, 0.6) !important;}
body.is-withMagicUnderlines .postArticle.is-withAccentColors .u-imageSpectrum .markup--highlight {background-color: transparent !important; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.6));}.u-resetSpectrum .u-tintBgColor {background-color: rgba(255, 255, 255, 1) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeLeft:before {background-image: linear-gradient(to right, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0) 100%) !important;}.u-resetSpectrum .u-tintBgColor .u-fadeRight:after {background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%) !important;}
.u-resetSpectrum .u-baseColor--borderLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--borderDark {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--iconLight .svgIcon,.u-resetSpectrum .u-baseColor--iconLight.svgIcon {fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconNormal .svgIcon,.u-resetSpectrum .u-baseColor--iconNormal.svgIcon {fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--iconDark .svgIcon,.u-resetSpectrum .u-baseColor--iconDark.svgIcon {fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textNormal {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--textNormal.u-baseColor--textDarken:hover {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--textDark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--backgroundLight {background-color: rgba(0, 0, 0, 0.09803921568627451) !important;}
.u-resetSpectrum .u-baseColor--backgroundNormal {background-color: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .u-baseColor--backgroundDark {background-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight {border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight:hover {border-color: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonLight .icon:before,.u-resetSpectrum .u-baseColor--buttonLight .svgIcon {color: rgba(0, 0, 0, 0.2980392156862745) !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark {border-color: rgba(0, 0, 0, 0.6) !important; color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonDark:hover {border-color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--buttonDark .icon:before,.u-resetSpectrum .u-baseColor--buttonDark .svgIcon {color: rgba(0, 0, 0, 0.6) !important; fill: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal {border-color: rgba(0, 0, 0, 0.4980392156862745) !important; color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal:hover {border-color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal .icon:before,.u-resetSpectrum .u-baseColor--buttonNormal .svgIcon {color: rgba(0, 0, 0, 0.4980392156862745) !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--buttonDark.button--filled,.u-resetSpectrum .u-baseColor--buttonDark.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2980392156862745) !important; border-color: rgba(0, 0, 0, 0.2980392156862745) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--buttonNormal.button--filled,.u-resetSpectrum .u-baseColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 0, 0, 0.2) !important; border-color: rgba(0, 0, 0, 0.2) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-baseColor--link {color: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-baseColor--link.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--darken:active {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark {color: rgba(0, 0, 0, 0.6) !important;}
.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:hover,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:focus,.u-resetSpectrum .u-baseColor--link.link--dark.link--darken:active {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--link.link--darker {color: rgba(0, 0, 0, 0.8) !important;}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-webkit-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal ::-moz-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .u-baseColor--placeholderNormal :-ms-input-placeholder {color: rgba(0, 0, 0, 0.2980392156862745);}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(1) {stroke: none !important; fill: rgba(0, 0, 0, 0.2) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(2) {stroke: none !important; fill: rgba(0, 0, 0, 0.2980392156862745) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(3) {stroke: none !important; fill: rgba(0, 0, 0, 0.4) !important;}
.u-resetSpectrum .svgIcon--logoNew path:nth-child(4) {stroke: none !important; fill: rgba(0, 0, 0, 0.4980392156862745) !important;}
.u-resetSpectrum .u-accentColor--borderLight {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderNormal {border-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--borderDark {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconLight .svgIcon,.u-resetSpectrum .u-accentColor--iconLight.svgIcon {fill: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--iconNormal .svgIcon,.u-resetSpectrum .u-accentColor--iconNormal.svgIcon {fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--iconDark .svgIcon,.u-resetSpectrum .u-accentColor--iconDark.svgIcon {fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--hoverTextNormal:hover {color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--textNormal.u-accentColor--textDarken:hover {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--textDark {color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundLight {background-color: rgba(2, 184, 117, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundNormal {background-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--backgroundDark {background-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark {border-color: rgba(0, 171, 107, 1) !important; color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark:hover {border-color: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark .icon:before,.u-resetSpectrum .u-accentColor--buttonDark .svgIcon{color: rgba(28, 153, 99, 1) !important; fill: rgba(28, 153, 99, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal {border-color: rgba(2, 184, 117, 1) !important; color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal:hover {border-color: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal .svgIcon{color: rgba(0, 171, 107, 1) !important; fill: rgba(0, 171, 107, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .icon:before,.u-resetSpectrum .u-accentColor--buttonNormal.button--filled .svgIcon{color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonDark.button--filled,.u-resetSpectrum .u-accentColor--buttonDark.button--withChrome.is-active,.u-resetSpectrum .u-accentColor--fillWhenActive.is-active {background-color: rgba(28, 153, 99, 1) !important; border-color: rgba(28, 153, 99, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .u-accentColor--buttonNormal.button--filled,.u-resetSpectrum .u-accentColor--buttonNormal.button--withChrome.is-active {background-color: rgba(0, 171, 107, 1) !important; border-color: rgba(0, 171, 107, 1) !important; color: rgba(255, 255, 255, 1) !important; fill: rgba(255, 255, 255, 1) !important;}
.u-resetSpectrum .postArticle.is-withAccentColors .markup--user,.u-resetSpectrum .postArticle.is-withAccentColors .markup--query {color: rgba(0, 171, 107, 1) !important;}</style></div></div></div><div class="loadingBar"></div><script>// <![CDATA[
window["obvInit"] = function (opt_embedded) {window["obvInit"]["embedded"] = opt_embedded; window["obvInit"]["ready"] = true;}
// ]]></script><script>// <![CDATA[
var GLOBALS = {"audioUrl":"https://d1fcbxp97j4nb2.cloudfront.net","baseUrl":"https://medium.com","buildLabel":"25759-5e3bb7f","currentUser":{"userId":"lo_a56f2cb9fbd0","isVerified":false,"subscriberEmail":""},"currentUserHasUnverifiedEmail":false,"isAuthenticated":false,"isCurrentUserVerified":false,"mediumTwitterScreenName":"medium","miroUrl":"https://cdn-images-1.medium.com","moduleUrls":{"base":"https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.w991rrzFNVlLc_gLL3nFJw.js","notes":"https://cdn-static-1.medium.com/_/fp/js/main-notes.bundle.QUoTGM_ejryDsUofmciqSA.js","posters":"https://cdn-static-1.medium.com/_/fp/js/main-posters.bundle.-588ggOvHHKcm6Ms9XWCGg.js","common-async":"https://cdn-static-1.medium.com/_/fp/js/main-common-async.bundle.VVor0P5Ufne3mlrF8HWdGg.js","stats":"https://cdn-static-1.medium.com/_/fp/js/main-stats.bundle.HPVwSp5tCMIGuVFx7MbnWg.js","misc-screens":"https://cdn-static-1.medium.com/_/fp/js/main-misc-screens.bundle.s45p8AONabHfMLPr7bpxzw.js"},"previewConfig":{"weightThreshold":1,"weightImageParagraph":0.51,"weightIframeParagraph":0.8,"weightTextParagraph":0.08,"weightEmptyParagraph":0,"weightP":0.003,"weightH":0.005,"weightBq":0.003,"minPTextLength":60,"truncateBoundaryChars":20,"detectTitle":true,"detectTitleLevThreshold":0.15},"productName":"Medium","supportsEdit":false,"termsUrl":"//medium.com/policy/9db0094a1e0f","textshotHost":"textshot.medium.com","transactionId":"1477419445932:f05aa98667e2","useragent":{"browser":"other","family":"","os":"","version":0,"supportsDesktopEdit":false,"supportsInteract":false,"supportsView":true,"isMobile":false,"isTablet":false,"isNative":false,"supportsFileAPI":false,"isTier1":false,"clientVersion":"","unknownParagraphsBad":false,"clientChannel":"","supportsRealScrollEvents":false,"supportsVhUnits":false,"ruinsViewportSections":false,"supportsHtml5Video":false,"supportsMagicUnderlines":false,"isWebView":false,"isFacebookWebView":false,"supportsProgressiveMedia":false,"supportsPromotedPosts":true,"isBot":false,"supportsScrollableMetabar":false},"variants":{"allow_access":true,"allow_signup":true,"allow_test_auth":"disallow","signin_services":"twitter,facebook,google,email,google-fastidv","signup_services":"twitter,facebook,google,email,google-fastidv","enable_smyte_integration":true,"android_rating_prompt_recommend_threshold":5,"google_sign_in_android":true,"enable_onboarding":true,"custom_miro_url":"https://cdn-images-1.medium.com","ios_custom_miro_url":"https://cdn-images-1.medium.com","reengagement_notification_duration":3,"enable_inline_code_creation":true,"enable_related_reads_webui":true,"enable_hopper_for_tag_based_post_bundles":true,"enable_next_tick_update":true,"enable_ranked_feed_rescoring":true,"enable_similar_post_provider":true,"enable_adsnative_integration":true,"browsable_stream_config_bucket":"curated","ios_small_post_preview_truncation_length":5.5,"ios_large_post_preview_truncation_length":5.5,"disable_ios_catalog_badging":true,"enable_ranked_feed_survey_promo":true,"enable_textshots_v2":true,"enable_textshots_v2_web_ui":true,"enable_dark_sign_in_modals":true,"enable_ios_personalization_promo":true,"add_top_stories_in_digest":true,"digest_experiment":"control","enable_prepublish_share_settings":true,"enable_direct_auth_connect":true,"enable_prepublish_twitter_connect":true,"enable_hide_response_on_parent_post":true,"enable_sponsored_post_labelling":true,"stream_publication_homepage":true,"enable_logged_out_fixed_post_action_metabar":true,"enable_logged_in_follow_on_collection_post":true,"social_recs_weight_factor":1,"digest_total_post_count":30,"digest_posts_count_published_by_followed_users_and_collections":16,"digest_posts_count_recommended_by_users":5,"digest_posts_count_recommended_by_staff":5,"digest_posts_count_per_tag":2,"enable_publication_archive_page":true,"enable_prepublish_facebook_share":true,"enable_prepublish_facebook_connect":true,"promoted_story_placement_locations":"POST_PAGE_FOOTER","enable_story_management_view":true,"enable_story_management_view_tabs":true,"enable_story_management_scheduled_tab":true,"enable_stats_response_filtering":true,"enable_ios_feature_education":true,"enable_related_reads_curse_words_filtering":true,"enable_normalized_email_check":true,"enable_author_invite":true,"enable_search_collection_by_tag_recency_filter":true,"search_collection_by_tag_filter_min_votes":10,"enable_stream_ttr_on_post_page":true,"enable_links_open_in_new_tabs":true,"scroll_to_next_stack_size":5,"enable_curated_placements":true,"gotv_group":9,"show_read_history":true,"score_posts_for_digest":true,"digest_with_curated_catalogs":true,"enable_sentiment_analysis":true,"honeypot_strategy":"entity","enable_share_widget":true,"enable_mobile_share_widget":true,"enable_catalog_takeover_route":true,"show_more_placements":"control","enable_new_hero_promo":true,"honeypot_footer_copy_strategy":1,"enable_sms_app_promo":1},"xsrfToken":"","iosAppId":"828256236","supportEmail":"yourfriends@medium.com","teamName":"Team Medium","fp":{"/img/apple-touch-icon-ipad-retina.png":"https://cdn-static-1.medium.com/_/fp/img/apple-touch-icon-ipad-retina.Akq8aSfZqfW1fceMxKqBZA.png","/img/apple-touch-icon-iphone-retina.png":"https://cdn-static-1.medium.com/_/fp/img/apple-touch-icon-iphone-retina.c211N_zSkSXPQk-ggPi4mQ.png","/img/apple-touch-icon-ipad.png":"https://cdn-static-1.medium.com/_/fp/img/apple-touch-icon-ipad.LSTr_8Uf-3hSd7eDjoW_8g.png","/img/apple-touch-icon.png":"https://cdn-static-1.medium.com/_/fp/img/apple-touch-icon.JWwtHOsKxVkBzoR3FSccjw.png","/img/default-avatar.png":"https://cdn-static-1.medium.com/_/fp/img/default-avatar.dmbNkD5D-u45r44go_cf0g.png","/img/default-preview-image.png":"https://cdn-static-1.medium.com/_/fp/img/default-preview-image.IsBK38jFAJBlWifMLO4z9g.png","/img/default-preview-image-v2.png":"https://cdn-static-1.medium.com/_/fp/img/default-preview-image-v2.MXL-j6S8fTEd8UFP_foEEw.png","/img/email/app_store_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app_store_badge@2x.8bDQGNMm-Xs7Hz6WA2XquQ.png","/img/email/app-devices@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/app-devices@2x.6hgpI423F62SKyT8Lo6dzA.png","/img/email/check1.png":"https://cdn-static-1.medium.com/_/fp/img/email/check1.0DM77li7vZhq5o2V9cVYLQ.png","/img/email/check2.png":"https://cdn-static-1.medium.com/_/fp/img/email/check2.GLlNusQmn1hwo9WDN-gE1w.png","/img/email/check3.png":"https://cdn-static-1.medium.com/_/fp/img/email/check3.7VxOUVMXAVbHRRnzMrJ_5A.png","/img/email/email-logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/email-logo.x91rxfZYzIT9OJ5-ySD30A.png","/img/email/fb_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/fb_logo.Q0M98YwNTu77gLWTK6-RyQ.png","/img/email/google_play_badge@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/google_play_badge@2x.iWEWlt5_Qj20rr79-IGEBQ.png","/img/email/heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart._hlyuYQiuuTWrRmDnDphJA.png","/img/email/heart@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart@2x.qvCTX1XHNpntqxt01oypQw.png","/img/email/heart1.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart1.rnGEmSwcGUhztl_zSU7l6Q.png","/img/email/heart2.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart2.HBiLu3koIYsKjjKroohgbA.png","/img/email/heart3.png":"https://cdn-static-1.medium.com/_/fp/img/email/heart3.AIJBOHw11HuhdClVJNtmtg.png","/img/email/large.png":"https://cdn-static-1.medium.com/_/fp/img/email/large.4EIhZbIk5sgqYSoB4YPmUA.png","/img/email/response.png":"https://cdn-static-1.medium.com/_/fp/img/email/response.5ZuN24N5XqS7ofHKg1lKXw.png","/img/email/response@2x.png":"https://cdn-static-1.medium.com/_/fp/img/email/response@2x.xzKQM4FzSurAVkghLQQWkA.png","/img/email/trophy.png":"https://cdn-static-1.medium.com/_/fp/img/email/trophy.YXqqMnNASKQDXZ46YdTWFA.png","/img/email/twitter_logo.png":"https://cdn-static-1.medium.com/_/fp/img/email/twitter_logo.Pz4a3o9WMU5QioxLKcyFhQ.png","/img/email/unlisted.png":"https://cdn-static-1.medium.com/_/fp/img/email/unlisted.ikh8R2LElOz_1YM8A2Db4g.png","/img/email/welcome-heart.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-heart.6BRCOGcwGeOCBTql8pbq2g.png","/img/email/welcome-response.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-response.iWVQLjiUG5pyQrPyGiYEpw.png","/img/email/welcome-write.png":"https://cdn-static-1.medium.com/_/fp/img/email/welcome-write.afdGsuE6YDk3HkaIASRl0w.png","/img/help/add-media-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media-start.GXmqQ2Svt1WfZGIZSM93tg.gif","/img/help/add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/add-media.SZH2LBmkwVExuhozFfVvYg.gif","/img/help/embed-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed-start.EBJ2PcWFJuYopsQV4wwklA.gif","/img/help/embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/embed.1BM0Di9vd91Kv8fLioJabw.gif","/img/help/text-highlight-start.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight-start.AvTbakaFuUCd05YoMECoMQ.gif","/img/help/text-highlight.gif":"https://cdn-static-1.medium.com/_/fp/img/help/text-highlight.XVChoKYZ1-s3gJgHm9-7Yg.gif","/img/help/2.0-add-media.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media.LhrJcTFODoqjnPPuHNEInA.gif","/img/help/2.0-add-media-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-add-media-start.PTVdm36977cSfaYOpMNTNQ.png","/img/help/2.0-highlight-menu.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu.eqlvF_kPTaDVcWZV4oPjVA.gif","/img/help/2.0-highlight-menu-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-highlight-menu-start.bkThTm0MV-KahZWttjBlJQ.png","/img/help/2.0-embed.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed.2g5jIXYtWjsRFa9D-hBhMQ.gif","/img/help/2.0-embed-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-embed-start.LGy_FmixvcoEVIDKjg1jwA.png","/img/help/2.0-mention.gif":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention.H9pEv0eHAvkGUVqdrHxH5g.gif","/img/help/2.0-mention-start.png":"https://cdn-static-1.medium.com/_/fp/img/help/2.0-mention-start.ShYTOfy6w3VDU9PKFfOEyw.png","/img/help/highlight-tips-1.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-1.dEp02HXMKtAeKxsV5MWqGg.gif","/img/help/highlight-tips-2.gif":"https://cdn-static-1.medium.com/_/fp/img/help/highlight-tips-2.SyXCciYXeNpx4-GUAuh0XQ.gif","/img/import/highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/highlight-menu.kzoaVM8mJJ-Hu9m9uo3Omg.png","/img/import/image-highlight-menu.png":"https://cdn-static-1.medium.com/_/fp/img/import/image-highlight-menu.q43-H2dl0JvBS_5znQCW8A.png","/img/import/publish-metabar.png":"https://cdn-static-1.medium.com/_/fp/img/import/publish-metabar.YbEX1a2Pu0rAR_LuKeg8JA.png","/img/media-loading-placeholder.png":"https://cdn-static-1.medium.com/_/fp/img/media-loading-placeholder.b31hiO4ynbDLRrXWEFF4aQ.png","/img/payments/amex.png":"https://cdn-static-1.medium.com/_/fp/img/payments/amex.5EPSpIzX7GdCzJlp6ScaDw.png","/img/payments/diners.png":"https://cdn-static-1.medium.com/_/fp/img/payments/diners.NGD5bmkc-37YhAWWR1kzZQ.png","/img/payments/discover.png":"https://cdn-static-1.medium.com/_/fp/img/payments/discover.EZDA3I2LqtScyoBjwnpyAA.png","/img/payments/jcb.png":"https://cdn-static-1.medium.com/_/fp/img/payments/jcb.r4YW_7gdVvO70Y1uobs9zw.png","/img/payments/mastercard.png":"https://cdn-static-1.medium.com/_/fp/img/payments/mastercard.pkLRUgj9PI_snp1LBC8FYQ.png","/img/payments/placeholder.png":"https://cdn-static-1.medium.com/_/fp/img/payments/placeholder.UD4yFjC9YHrS0yCBRmRwvQ.png","/img/payments/visa.png":"https://cdn-static-1.medium.com/_/fp/img/payments/visa.0d40297wdAUwEkxSXQjBoQ.png","/img/payments/credit-card-sprite.png":"https://cdn-static-1.medium.com/_/fp/img/payments/credit-card-sprite.aNIJTodZTkf86-MUkQX7Xw.png","/img/signup/signup_education.png":"https://cdn-static-1.medium.com/_/fp/img/signup/signup_education.U40idKqxw3q2V5uNY4tV2w.png","/icons/favicon.svg":"https://cdn-static-1.medium.com/_/fp/icons/favicon.KjTfUJo7yJH_fCoUzzH3cg.svg","/icons/favicon-dev-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-dev-editor.YKKRxBO8EMvIqhyCwIiJeQ.ico","/icons/favicon-hatch-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-hatch-editor.BuEyHIqlyh2s_XEk4Rl32Q.ico","/icons/favicon-medium-editor.ico":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium-editor.PiakrZWB7Yb80quUVQWM6g.ico"},"authBaseUrl":"https://medium.com","imageUploadSizeMb":25,"isAuthDomainRequest":true,"algoliaApiEndpoint":"https://MQ57UUUQZ2-dsn.algolia.net","algoliaAppId":"MQ57UUUQZ2","algoliaSearchOnlyApiKey":"aadabda268e3bfaffe7b287709262fec","iosAppStoreUrl":"https://itunes.apple.com/app/medium-everyones-stories/id828256236?pt=698524&mt=8","iosAppLinkBaseUrl":"medium:","algoliaIndexPrefix":"medium_","androidPlayStoreUrl":"https://play.google.com/store/apps/details?id=com.medium.reader","googleClientId":"216296035834-k1k6qe060s2tp2a2jam4ljdcms00sttg.apps.googleusercontent.com","androidPackage":"com.medium.reader","androidPlayStoreMarketScheme":"market://details?id=com.medium.reader","googleAuthUri":"https://accounts.google.com/o/oauth2/auth","androidScheme":"medium","layoutData":{"useDynamicScripts":false,"googleAnalyticsTrackingCode":"UA-24232453-2","jsShivUrl":"https://cdn-static-1.medium.com/_/fp/js/shiv.RI2ePTZ5gFmMgLzG5bEVAA.js","cssFontUrls":["https://cdn-static-1.medium.com/_/fp/css/fonts-base.by5Oi_VbnwEIvhnWIsuUjA.css"],"useDynamicCss":false,"faviconUrl":"https://cdn-static-1.medium.com/_/fp/icons/favicon-medium.TAS6uQ-Y7kcKgi0xjcYHXw.ico"},"authBaseUrlRev":"moc.muidem//:sptth","isDnt":false,"stripePublishableKey":"pk_live_7FReX44VnNIInZwrIIx6ghjl","archiveUploadSizeMb":100,"paymentData":{"currencies":{"1":{"label":"US Dollar","external":"usd"}},"countries":{"1":{"label":"United States of America","external":"US"}},"accountTypes":{"1":{"label":"Individual","external":"individual"},"2":{"label":"Company","external":"company"}}},"previewConfig2":{"weightThreshold":1,"weightImageParagraph":0.05,"raiseImage":true,"enforceHeaderHierarchy":true,"isImageInsetRight":true},"isAmp":false,"iosScheme":"medium","isSwBoot":false,"lightstep":{"accessToken":"ce5be895bef60919541332990ac9fef2","carrier":"{\"ot-tracer-spanid\":\"178a7fee25ee0af2\",\"ot-tracer-traceid\":\"6559e3c102cc1553\",\"ot-tracer-sampled\":\"true\"}","host":"collector-medium.lightstep.com"},"facebook":{"key":"542599432471018","secret":"c14df7146e9052a1131f3c900c1f0644","token":"542599432471018|1JqjIwxSfY9jOt_KwjWEl1R7T6I","namespace":"medium-com","scope":{"default":["public_profile","email","user_friends"],"connect":["public_profile","email","user_friends"],"login":["public_profile","email","user_friends"],"share":["public_profile","email","user_friends","publish_actions"]},"smartPublishWhitelistedPublications":["bcc38c8f6edf","f3726e2a5878","828a270689e","81c7d351c056","f30e42fd7ff8","8bf1d7d3081b","d16afa0ae7c","d8f3f6ad9c31","e74de0cedea9","15f753907972","c8c6a6b01ebd","3412b9729488","2ce4bbcf83bb","544c7006046e","7bfcdbc6b30a","a268fd916824","458a773bccd2"],"instantArticles":{"published":true,"developmentMode":false}},"mailingListArchiveUploadSizeMb":2,"isDoNotAuth":false}
// ]]></script><script charset="UTF-8" src="https://cdn-static-1.medium.com/_/fp/js/main-base.bundle.w991rrzFNVlLc_gLL3nFJw.js" async></script><script>// <![CDATA[
window["obvInit"]({"value":{"id":"557c7864a047","versionId":"6ff46d4e98b9","creatorId":"47845374c4a7","creator":{"userId":"47845374c4a7","name":"Manik Jindal","username":"themanikjindal","createdAt":1459418765203,"lastPostCreatedAt":1477158195008,"imageId":"0*45QB2xyDJhsx8DB_.","backgroundImageId":"","bio":"","twitterScreenName":"theManikJindal","socialStats":{"userId":"47845374c4a7","usersFollowedCount":87,"usersFollowedByCount":63,"type":"SocialStats"},"social":{"userId":"lo_449572addf3a","targetUserId":"47845374c4a7","type":"Social"},"facebookAccountId":"1315896958426242","allowNotes":1,"type":"User"},"homeCollection":{"id":"f2fef9df7c42","name":"code-design","slug":"code-design","tags":[],"creatorId":"47845374c4a7","description":"Foundations of good code design.","shortDescription":"Foundations of good code design.","image":{"imageId":"1*zWPBJCcqgMGY8CY3TIEqxA.png","filter":"","backgroundSize":"","originalWidth":150,"originalHeight":150,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":2,"postCount":0,"activeAt":1477340593218},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"collectionMastheadId":"1856d0dc7b74","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Code Design","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"fullTextRssFeed":0,"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"type":"Collection"},"homeCollectionId":"f2fef9df7c42","title":"Invariants in Code Design","detectedLanguage":"en","latestVersion":"6ff46d4e98b9","latestPublishedVersion":"6ff46d4e98b9","hasUnpublishedEdits":false,"latestRev":1972,"createdAt":1477158195008,"updatedAt":1477403367160,"acceptedAt":0,"firstPublishedAt":1477338800229,"latestPublishedAt":1477403367160,"vote":false,"experimentalCss":"","displayAuthor":"","content":{"subtitle":"Invariant, quite literally, means something that does not change or vary.","bodyModel":{"paragraphs":[{"name":"7316","type":3,"text":"Invariants in Code Design","markups":[]},{"name":"4dc9","type":1,"text":"Invariant, quite literally, means something that does not change or vary.","markups":[{"type":2,"start":34,"end":73}]},{"name":"849e","type":1,"text":"In the context of computer programming, it can be seen as a set of assumptions a piece of code takes before it is able to perform any computation of importance. And if those assumptions aren’t actually true the result of the computation is meaningless, or more appropriately, it cannot be guaranteed that the result is correct.","markups":[]},{"name":"caaf","type":1,"text":"Consider the following examples you would have come across before.","markups":[]},{"name":"1a17","type":13,"text":"Bubble Sort","markups":[]},{"name":"f9c2","type":1,"text":"The bubble sort algorithm maintains the invariant that after i passes of the algorithm on the array, the last i elements of the array appear in sorted order. And once n passes are complete, the array is guaranteed to be sorted because the last n elements (equivalent to all the elements in the array) are sorted.","markups":[{"type":1,"start":50,"end":158},{"type":2,"start":61,"end":62},{"type":2,"start":110,"end":111},{"type":2,"start":167,"end":168},{"type":2,"start":244,"end":245}]},{"name":"bae7","type":4,"text":"Bubble Sort","markups":[{"type":3,"start":0,"end":11,"href":"http://piratelearner.com/en/C/course/computer-science/algorithms/trivial-sorting-algorithms-bubble-sort/27/","title":"","rel":"","anchorType":0}],"layout":4,"metadata":{"id":"1*iAZJF0JvQrFDnDxri88bGQ.gif","originalWidth":551,"originalHeight":314,"isFeatured":true}},{"name":"cea8","type":1,"text":"If the invariant of the bubble sort were to fail at any intermediary step, the entire algorithm would fail in sorting the array. Invariants hence directly relate to the correctness of a program.","markups":[{"type":1,"start":129,"end":194}]},{"name":"7467","type":13,"text":"The Shared Pointer Class in C++","markups":[]},{"name":"b065","type":1,"text":"In C++ the std::shared_ptr class maintains the invariant that once all copies of the std::shared_ptr go out of scope, the underlying object will also be deleted. For this, the object maintains a reference count of the number of sharing owners. The invariant it holds is that the underlying object only exists as long as the reference count to it is greater than zero.","markups":[{"type":1,"start":244,"end":367},{"type":2,"start":3,"end":6},{"type":2,"start":11,"end":26},{"type":2,"start":85,"end":100},{"type":2,"start":195,"end":211}]},{"name":"f757","type":4,"text":"Shared Pointer in C++","markups":[{"type":3,"start":0,"end":21,"href":"https://www.gogo-robot.com/2012/03/24/memory-management-part-2/","title":"","rel":"","anchorType":0}],"layout":1,"metadata":{"id":"1*sBUcMK9vs0dKiNdY8dK6sA.gif","originalWidth":544,"originalHeight":416}},{"name":"4621","type":1,"text":"Corollary to the invariant stated above is that if a std::shared_ptr exists, it either points to nothing (holds a null pointer), or it references a valid object (holds a dereferenceable pointer).","markups":[{"type":2,"start":53,"end":68},{"type":2,"start":106,"end":126},{"type":2,"start":162,"end":193}]},{"name":"7d7f","type":1,"text":"In the scenario where the underlying object is deleted from outside the std::shared_ptr due to ownership mismanagement, no guarantees can be placed on the std::shared_ptr object and on any systems relying on it.","markups":[{"type":2,"start":72,"end":87},{"type":2,"start":155,"end":170},{"type":2,"start":171,"end":177}]},{"name":"b435","type":3,"text":"Invariants in Object Oriented Design","markups":[]},{"name":"7ed0","type":13,"text":"Why Invariants?","markups":[]},{"name":"1915","type":1,"text":"Invariants once introduced in code make it easy, sometimes even trivial to understand where exactly a bug lies, or which component is at fault. Well established invariants greatly help a programmer to reason about their code. Hence, probably the best feature of object oriented design, also the least mentioned one, is the ability to introduce invariants in code.","markups":[]},{"name":"f06b","type":13,"text":"How to introduce invariants?","markups":[]},{"name":"0a9c","type":1,"text":"In languages such as C++, a constructor-destructor pair becomes the best tool for introducing invariants. The proverbial life cycle of an object, begins when the class’ constructor returns and it ends only when the destructor is called. At each point of time in between these two events, the object is said to exist.","markups":[{"type":2,"start":146,"end":235}]},{"name":"dace","type":8,"text":"void doSomething() {}","markups":[]},{"name":"53fd","type":8,"text":"struct Socket {\n    Socket() {}\n    ~Socket() {}    \n};","markups":[]},{"name":"b9de","type":8,"text":"int main() \n{\n    /* socket object does not exist */\n    {\n        /* socket object does not exist */\n        Socket s;","markups":[]},{"name":"510c","type":8,"text":"        /* socket object exists */\n        doSomething();\n        \n        /* socket object exists here as well */\n    }\n    /* socket object no longer exists */\n}","markups":[]},{"name":"95a5","type":1,"text":"It is common practice (and an excellent one at that too), to couple the object’s invariants with its life cycle. In other words, with the help of a constructor a programmer can ensure that an object is created only when the object’s invariants hold. Furthermore, if the programmer were careful to not let the invariants of the object be destroyed, he/she can be very well assured that as long as the object exists its invariants will hold. And that the invariants can only falter after the object is destroyed.","markups":[{"type":1,"start":61,"end":112},{"type":1,"start":355,"end":438}]},{"name":"69cc","type":8,"text":"void doSomething() {}","markups":[]},{"name":"bef9","type":8,"text":"/* \n** Invariant: If a socket object exist it is open, i.e., \n** a socket object represents an open socket. \n*/\nstruct Socket {\n    Socket() {\n        if(!open()) {\n            throw exception(\"Failed to open\");\n        }\n    }\n    ~Socket() {}    \nprivate:\n    bool open() { // returns false if fails to open\n        // implementation\n    }\n};","markups":[{"type":1,"start":7,"end":17}]},{"name":"3039","type":8,"text":"int main() {\n    {\n        /* socket object does not exist */\n        Socket s;","markups":[]},{"name":"caee","type":8,"text":"        /* socket object now exists and the socket is surely open as well, because if the socket had failed to open the constructor would have thrown an exception and the object would not have been constructed successfully */\n        doSomething();","markups":[{"type":1,"start":83,"end":223}]},{"name":"da42","type":8,"text":"        /* socket object still exists and is still open */\n    }","markups":[]},{"name":"68c3","type":8,"text":"    /* socket object no longer exists */\n}","markups":[]},{"name":"63b0","type":1,"text":"An object that does nothing other than being created and getting destroyed does not offer itself to much use. It is likely that the object would require to have methods, that help the client achieve what they need to. As a writer of the class the only rule that an object’s methods must follow is to not destroy the object’s invariants.","markups":[{"type":1,"start":243,"end":336}]},{"name":"81f1","type":1,"text":"To achieve this end goal encapsulation comes in handy. The power of encapsulation is such that once the programmer is sure that no object method, accessible from outside the class, destroys the invariant of the object, he/she can be assured that the object’s invariants will hold good as long as the object exists.","markups":[{"type":1,"start":123,"end":218}]},{"name":"f065","type":1,"text":"Moreover, it is not mandatory that the invariants be never destroyed. It is okay if the invariants are destroyed while the method is executing, only that they need to be restored before the method returns. Also, this restriction does not apply to private methods that are inaccessible from outside the class. Private methods of an object are free to destroy its invariants. Just that the public method that called the private method should restore the invariants before returning.","markups":[{"type":1,"start":70,"end":309}]},{"name":"e64b","type":8,"text":"void doSomething() {}","markups":[]},{"name":"1310","type":8,"text":"/* \n** Invariant: If a socket object exist it is open, i.e., \n** a socket object represents an open socket. \n*/\nstruct Socket {\n    \n    Socket() {\n        if(!open()) {\n            throw exception(\"Failed to open\");\n        }\n    }","markups":[]},{"name":"74b1","type":8,"text":"    ~Socket() {}\n    \n    reconnect() \n    {\n        close();\n        /* The invariant of the object has been destroyed as the object exists but it no longer holds an open socket */","markups":[{"type":1,"start":73,"end":178}]},{"name":"079e","type":8,"text":"        open();\n        /* The invariant of the object has been restored before the function returned */\n    }","markups":[{"type":1,"start":27,"end":101}]},{"name":"b60c","type":8,"text":"private:\n    bool open() { // returns false if fails to open\n        // implementation\n    }\n    void close() {\n        // implementation\n    }\n};\nint main() \n{\n    {\n        // At no point in this block were the invariants destroyed\n        Socket s;\n        doSomething();\n        s.reconnect();\n        doSomething();\n    }\n}","markups":[]},{"name":"c770","type":1,"text":"Lastly, externally accessible object fields that take part in the object’s invariants are an absolute no-no. There should not be any second thought about this one.","markups":[{"type":1,"start":8,"end":108}]},{"name":"ec30","type":13,"text":"Life Cycle of an Object","markups":[]},{"name":"b501","type":4,"text":"Invariants coupled with an object’s life cycle","markups":[],"layout":4,"metadata":{"id":"1*TmMuk7oYKWDKfoP7EdptEQ.png","originalWidth":460,"originalHeight":1640}},{"name":"f5c0","type":1,"text":"The diagram on the left summarizes the coupling of the invariants associated with an object with its life cycle.","markups":[]},{"name":"76ca","type":1,"text":"Once the constructor returns, the invariants are established and do not falter even when any procedure is called. The only time the invariants are destroyed are once the object ceases to exist.","markups":[]},{"name":"c6f6","type":1,"text":"Invariants might be temporarily violated within the object’s method, but all is well if they are restored before the method returns. The client that uses the object will never come to know if the invariant were ever destroyed.","markups":[]},{"name":"06ee","type":13,"text":"Side Note","markups":[{"type":1,"start":0,"end":9},{"type":2,"start":0,"end":9}]},{"name":"d7c7","type":1,"text":"Object oriented languages lend themselves well to this technique. However there might be slight differences overall.","markups":[]},{"name":"c5d1","type":1,"text":"In C++ the destruction of an object is eager, i.e. the object’s destructor is called and its memory is reclaimed as soon as the object goes out of scope.","markups":[{"type":1,"start":113,"end":152}]},{"name":"679e","type":1,"text":"Java however, does not have an equivalent for C++ destructors. The finalize method comes close, but is quite inadequate. For one, it is not eager and secondly there are not many guarantees provided by the language specification as to when it will be called (read Effective Java by Joshua Bloch to know more).","markups":[]},{"name":"59ef","type":1,"text":"The only problem with non-eager destruction is that the object’s life cycle cannot be used for RAII (Resource Acquisition is Initialization), which again is a fantastic technique I might cover later on in the series.","markups":[]},{"name":"d804","type":3,"text":"Common Pitfalls and FAQ","markups":[]},{"name":"bd62","type":13,"text":"Whose responsibility is it to maintain the object’s invariants?","markups":[]},{"name":"1995","type":1,"text":"The onus of maintaining an object’s invariant lies with the writer of that class. At no point should one expect the client of the object to use the object in the right manner, or to not destroy its invariants.","markups":[]},{"name":"832b","type":1,"text":"It does not take an attacker to break the security of your object, any careless programmer would do. It is always better to assume that the user of your object will not maintain its invariants. Thus, it is your job to make your class air-tight, which ultimately lead to more robust code.","markups":[]},{"name":"f21d","type":13,"text":"Defensive Copying","markups":[]},{"name":"b462","type":1,"text":"Consider the following piece of Java code","markups":[]},{"name":"b6f9","type":8,"text":"public class PrimeFactors {\n    private List\x3cInteger\x3e primes;","markups":[]},{"name":"1313","type":8,"text":"    public PrimeFactors(List\x3cInteger\x3e primes) {\n        this.primes = primes;\n    }","markups":[]},{"name":"0b8e","type":8,"text":"    public List\x3cInteger\x3e get(Integer i) {\n        // returns list of prime factors for the integer i\n    }","markups":[]},{"name":"6961","type":8,"text":"    public static void main(String[] args) {\n        List\x3cInteger\x3e primes = Arrays.asList({2, 3, 5, 7});\n        PrimeFactors factors = new PrimeFactors(primes);","markups":[]},{"name":"cb7a","type":8,"text":"        factors.get(10); // returns 2 and 5 ","markups":[{"type":1,"start":25,"end":44}]},{"name":"0e78","type":8,"text":"        primes.clear();\n        factors.get(10); // undefined behavior\n    }\n}","markups":[{"type":1,"start":49,"end":70}]},{"name":"6856","type":1,"text":"In the above example, the correct functioning of the class depends on the list of primes it receives as argument. Thus it becomes an invariant of the PrimeFactors class to contain a list of primes.","markups":[{"type":2,"start":150,"end":169}]},{"name":"536f","type":1,"text":"However in the example above, the programmer has not done enough to maintain the object’s invariants. The list of primes is mutable, and as soon as someone updates the lists’ contents the invariants of the factors object go for a toss.","markups":[{"type":2,"start":206,"end":221},{"type":2,"start":234,"end":235}]},{"name":"d409","type":1,"text":"Here the programmer should have made a defensive copy of the list in the constructor as shown below.","markups":[]},{"name":"d8a3","type":8,"text":"public PrimeFactors(List\x3cInteger\x3e primes) {\n    this.primes = new ArrayList\x3c\x3e(primes); // defensive copying\n}","markups":[{"type":1,"start":87,"end":107}]},{"name":"9a6e","type":13,"text":"Argument Checking","markups":[]},{"name":"15b9","type":1,"text":"Consider the case when the user of the PrimeFactors class creates an object by passing in a list of numbers that aren’t prime.","markups":[{"type":2,"start":39,"end":58},{"type":2,"start":89,"end":90}]},{"name":"a32d","type":8,"text":"public class PrimeFactors {","markups":[]},{"name":"6f9c","type":8,"text":"    private List\x3cInteger\x3e primes;","markups":[]},{"name":"efcd","type":8,"text":"    public PrimeFactors(List\x3cInteger\x3e primes) {\n        this.primes = new ArrayList\x3c\x3e(primes);\n    }","markups":[]},{"name":"fb4c","type":8,"text":"    public List\x3cInteger\x3e get(Integer i) {\n        // returns list of prime factors for the integer i\n    }","markups":[]},{"name":"2abc","type":8,"text":"    public static void main(String[] args) {\n        List\x3cInteger\x3e primes = Arrays.asList({1, 2, 4});\n        PrimeFactors factors= new PrimeFactors(primes);\n        factors.get(10); // undefined behavior\n    }\n}","markups":[{"type":1,"start":183,"end":204}]},{"name":"3b89","type":1,"text":"As the object’s correct functioning depends on the list of primes but no argument checking was done, the constructor returns without an error but the invariants do not hold. Here the programmer has not done their due diligence again, and has again opened their class for exploitation.","markups":[{"type":1,"start":101,"end":172}]},{"name":"a19e","type":1,"text":"Thus, if your object’s correct functioning depends on an object supplied by the user always check if it satisfies your invariants. See the correction below.","markups":[]},{"name":"2db2","type":8,"text":"public class PrimeFactors {\n    private List\x3cInteger\x3e primes;","markups":[]},{"name":"5c9a","type":8,"text":"    private void checkPrimes() {\n        // throws an exception if the list has a non prime number \n    }","markups":[{"type":1,"start":41,"end":99}]},{"name":"ce7a","type":8,"text":"    public PrimeFactors(List\x3cInteger\x3e primes) {\n        this.primes = new ArrayList\x3c\x3e(primes);\n        checkPrimes();\n    }\n    public List\x3cInteger\x3e get(Integer i) {\n        // returns list of prime factors for the integer i\n    }","markups":[]},{"name":"5b9d","type":8,"text":"    public static void main(String[] args) {\n        List\x3cInteger\x3e primes = Arrays.asList({1, 2, 4});","markups":[]},{"name":"1d06","type":8,"text":"        /* following statement throws an exception */\n        PrimeFactors factors= new PrimeFactors(primes);","markups":[{"type":1,"start":8,"end":53}]},{"name":"74e2","type":8,"text":"        factors.get(10); // control never reaches here\n    }\n}","markups":[{"type":1,"start":25,"end":54}]},{"name":"1cb1","type":13,"text":"Argument Checking in Multi Threaded Environment","markups":[]},{"name":"0073","type":1,"text":"If you would have noticed closely, the checkPrimes method in the previous code snippet is an object method that does not take any arguments. Hence, if it is actually checking the arguments it is doing so on object fields rather than the arguments that were passed in. This is not by accident.","markups":[{"type":2,"start":39,"end":58}]},{"name":"7cf9","type":1,"text":"In a multi-threaded environment, checking arguments and then assigning them to object fields open the class up for a check-then-act exploit. We will discuss it more when we will come around to thread safety. Till then, just remember to assign first and then check the fields instead of the arguments.","markups":[{"type":1,"start":117,"end":139},{"type":1,"start":224,"end":300}]},{"name":"daf5","type":1,"text":"Here’s a cool-ass definition for thread safety:","markups":[]},{"name":"8a6b","type":6,"text":"Thread-Safety is just the ability to maintain an object’s invariants in a multi-threaded environment.","markups":[]},{"name":"a439","type":13,"text":"Argument Checking in Release Build","markups":[]},{"name":"e367","type":1,"text":"A lot of people have asked me this question, “Should argument checking and assertions go into release build as well?”. The answer is — it depends.","markups":[]},{"name":"98fd","type":1,"text":"My personal opinion on this one is to keep it in unless you know you have to get rid of them. Here is a line of questioning you can use to identify whether or not you should disable them in release builds.","markups":[]},{"name":"0403","type":10,"text":"Is the argument checking actually input validation from the end user? If yes, definitely keep it in.","markups":[]},{"name":"f8b3","type":10,"text":"Is performance critical to your system and have you run profilers on your code? And have those profilers pointed at argument checking to be the bottleneck? If no, keep it in.","markups":[]},{"name":"c779","type":10,"text":"Is your automated test suite actually good? Code coverage is a factor but not the only one. If no, keep it in.","markups":[]},{"name":"3d6d","type":10,"text":"Do you have balls of steel and weekends to spare for prod issues? If yes, do what you gotta do.","markups":[]},{"name":"efd6","type":13,"text":"Inheritance","markups":[]},{"name":"5dc3","type":1,"text":"Another factor to consider while closing all open holes in your class, is inheritance. If you have protected members (fields and methods), and your class is not final (can be sub-classed):","markups":[{"type":2,"start":99,"end":137},{"type":2,"start":161,"end":188}]},{"name":"132a","type":10,"text":"Protected fields that take part in the object’s invariants are again an absolute no-no.","markups":[{"type":2,"start":0,"end":17}]},{"name":"6f9e","type":10,"text":"Protected methods should not destroy the invariants of the object, if destroyed the invariants must be restored before the method returns.","markups":[{"type":2,"start":0,"end":18}]},{"name":"e220","type":1,"text":"Clients that inherit your class can be no more trusted than the user of the class, hence, the protected access members should also count as externally accessible members.","markups":[{"type":1,"start":90,"end":169}]},{"name":"74da","type":3,"text":"Conclusion","markups":[]},{"name":"3ad3","type":1,"text":"Invariants are a great tool and make the life of a programmer easier, when done right. Furthermore, object oriented design lends itself well to invariants.","markups":[]},{"name":"7cf6","type":1,"text":"If your takeaway from the post is — “I get it, invariants are important.” or “I can’t wait to use them in my code.”, then my job here is done.","markups":[{"type":2,"start":37,"end":72},{"type":2,"start":78,"end":114}]},{"name":"8703","type":1,"text":"Leave me a comment if you found the post interesting or insightful, or if you have a different perspective than mine.","markups":[]},{"name":"2bf4","type":1,"text":"-Manik Jindal","markups":[{"type":3,"start":0,"end":13,"anchorType":2,"userId":"47845374c4a7"}]}],"sections":[{"name":"607d","startIndex":0},{"name":"1d75","startIndex":13},{"name":"d73e","startIndex":98}]},"postDisplay":{"coverless":true}},"virtuals":{"statusForCollection":"APPROVED","createdAtRelative":"3 days ago","updatedAtRelative":"4 hours ago","acceptedAtRelative":"","createdAtEnglish":"October 22, 2016","updatedAtEnglish":"October 25, 2016","acceptedAtEnglish":"","firstPublishedAtEnglish":"October 24, 2016","latestPublishedAtEnglish":"October 25, 2016","allowNotes":true,"snippet":"Invariant, quite literally, means something that does not change or vary.","previewImage":{"imageId":"1*iAZJF0JvQrFDnDxri88bGQ.gif","filter":"","backgroundSize":"","originalWidth":551,"originalHeight":314,"strategy":"resample","height":0,"width":0},"wordCount":2256,"imageCount":3,"readingTime":9.063207547169812,"subtitle":"Invariant, quite literally, means something that does not change or vary.","publishedInCount":1,"usersBySocialRecommends":[],"latestPublishedAtAbbreviated":"Oct 25","firstPublishedAtAbbreviated":"Oct 24","emailSnippet":"In the context of computer programming, it can be seen as a set of assumptions a piece of code takes before it is able to perform any computation of importance. And if those assumptions aren’t actually true the result of the computation is meaningless, or more appropriately, it cannot be guaranteed that the result is correct.\n\nConsider the following examples you would have come across before.\n\nBubble Sort\n\nThe bubble sort algorithm maintains the invariant that after i passes of the algorithm on…","recommends":0,"socialRecommends":[],"isBookmarked":false,"tags":[{"slug":"programming","name":"Programming","postCount":18958,"virtuals":{"isFollowing":false},"metadata":{"followerCount":24192,"postCount":18958,"coverImage":{"id":"1*wSKrrW74dUcgu42OqwA1BQ.png","originalWidth":1055,"originalHeight":761}},"type":"Tag"},{"slug":"java","name":"Java","postCount":2211,"virtuals":{"isFollowing":false},"metadata":{"followerCount":2275,"postCount":2211,"coverImage":{"id":"1*qF9NY-utSWs7zPJ4oSs5hg.png","originalWidth":1023,"originalHeight":768}},"type":"Tag"},{"slug":"design","name":"Design","postCount":67142,"virtuals":{"isFollowing":false},"metadata":{"followerCount":894750,"postCount":67142,"coverImage":{"id":"1*9HBxmCTAsK0_WHSzx6zZvw.jpeg"}},"type":"Tag"},{"slug":"software-development","name":"Software Development","postCount":10951,"virtuals":{"isFollowing":false},"metadata":{"followerCount":10456,"postCount":10951,"coverImage":{"id":"1*wSKrrW74dUcgu42OqwA1BQ.png","originalWidth":1055,"originalHeight":761}},"type":"Tag"},{"slug":"learning-to-code","name":"Learning To Code","postCount":1374,"virtuals":{"isFollowing":false},"metadata":{"followerCount":1709,"postCount":1374,"coverImage":{"id":"1*PcdVjpFt9JgG1rKFTw6p_A.jpeg","originalWidth":5472,"originalHeight":3648}},"type":"Tag"}],"socialRecommendsCount":0,"responsesCreatedCount":0,"links":{"entries":[],"version":"0.3","generatedAt":1477403369964},"isLockedPreviewOnly":false},"coverless":true,"slug":"invariants-in-code-design","translationSourcePostId":"","translationSourceCreatorId":"","isApprovedTranslation":false,"inResponseToPostId":"","inResponseToRemovedAt":0,"isTitleSynthesized":true,"allowResponses":true,"importedUrl":"","importedPublishedAt":0,"visibility":0,"uniqueSlug":"invariants-in-code-design-557c7864a047","previewContent":{"bodyModel":{"paragraphs":[{"name":"previewImage","type":4,"text":"","layout":10,"metadata":{"id":"1*iAZJF0JvQrFDnDxri88bGQ.gif","originalWidth":551,"originalHeight":314,"isFeatured":true}},{"name":"7316","type":3,"text":"Invariants in Code Design","markups":[],"alignment":1},{"name":"4dc9","type":1,"text":"Invariant, quite literally, means something that does not change or vary.","markups":[{"type":2,"start":34,"end":73}],"alignment":1}],"sections":[{"startIndex":0}]},"isFullContent":false},"license":0,"inResponseToMediaResourceId":"","canonicalUrl":"https://medium.com/code-design/invariants-in-code-design-557c7864a047","approvedHomeCollectionId":"f2fef9df7c42","approvedHomeCollection":{"id":"f2fef9df7c42","name":"code-design","slug":"code-design","tags":[],"creatorId":"47845374c4a7","description":"Foundations of good code design.","shortDescription":"Foundations of good code design.","image":{"imageId":"1*zWPBJCcqgMGY8CY3TIEqxA.png","filter":"","backgroundSize":"","originalWidth":150,"originalHeight":150,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":2,"postCount":0,"activeAt":1477340593218},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"collectionMastheadId":"1856d0dc7b74","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Code Design","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"fullTextRssFeed":0,"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"type":"Collection"},"newsletterId":"","webCanonicalUrl":"https://medium.com/code-design/invariants-in-code-design-557c7864a047","mediumUrl":"https://medium.com/code-design/invariants-in-code-design-557c7864a047","migrationId":"","notifyFollowers":true,"notifyTwitter":true,"isSponsored":false,"isRequestToPubDisabled":false,"notifyFacebook":true,"responseHiddenOnParentPostAt":0,"type":"Post"},"collaborators":[],"membershipPlans":[],"collectionUserRelations":[],"mode":null,"references":{"User":{"47845374c4a7":{"userId":"47845374c4a7","name":"Manik Jindal","username":"themanikjindal","createdAt":1459418765203,"lastPostCreatedAt":1477158195008,"imageId":"0*45QB2xyDJhsx8DB_.","backgroundImageId":"","bio":"","twitterScreenName":"theManikJindal","socialStats":{"userId":"47845374c4a7","usersFollowedCount":87,"usersFollowedByCount":63,"type":"SocialStats"},"social":{"userId":"lo_449572addf3a","targetUserId":"47845374c4a7","type":"Social"},"facebookAccountId":"1315896958426242","allowNotes":1,"type":"User"}},"Collection":{"f2fef9df7c42":{"id":"f2fef9df7c42","name":"code-design","slug":"code-design","tags":[],"creatorId":"47845374c4a7","description":"Foundations of good code design.","shortDescription":"Foundations of good code design.","image":{"imageId":"1*zWPBJCcqgMGY8CY3TIEqxA.png","filter":"","backgroundSize":"","originalWidth":150,"originalHeight":150,"strategy":"resample","height":0,"width":0},"metadata":{"followerCount":2,"postCount":0,"activeAt":1477340593218},"virtuals":{"permissions":{"canPublish":false,"canPublishAll":false,"canRepublish":false,"canRemove":false,"canManageAll":false,"canSubmit":false,"canEditPosts":false,"canAddWriters":false,"canViewStats":false,"canSendNewsletter":false,"canViewLockedPosts":false,"canViewCloaked":false,"canEditOwnPosts":false,"canBeAssignedAuthor":false},"isSubscribed":false,"isNewsletterSubscribed":false,"memberOfMembershipPlanId":""},"logo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"collectionMastheadId":"1856d0dc7b74","sections":[{"type":2,"collectionHeaderMetadata":{"title":"Code Design","description":"","backgroundImage":{},"logoImage":{},"alignment":2,"layout":6}},{"type":1,"postListMetadata":{"source":1,"layout":6,"number":10,"postIds":[]}}],"favicon":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"colorPalette":{"defaultBackgroundSpectrum":{"colorPoints":[{"color":"#FF02B875","point":0},{"color":"#FF00AB6B","point":0.1},{"color":"#FF1C9963","point":0.2},{"color":"#FF092E20","point":1}],"backgroundColor":"#FFFFFFFF"},"highlightSpectrum":{"colorPoints":[{"color":"#FFFFFFFF","point":0},{"color":"#FFE9FDF0","point":0.1},{"color":"#FFE2FAEE","point":0.2},{"color":"#FFADFFCF","point":0.6},{"color":"#FF7DFFB3","point":1}],"backgroundColor":"#FFFFFFFF"}},"navItems":[],"fullTextRssFeed":0,"colorBehavior":1,"instantArticlesState":0,"acceleratedMobilePagesState":0,"ampLogo":{"imageId":"","filter":"","backgroundSize":"","originalWidth":0,"originalHeight":0,"strategy":"resample","height":0,"width":0},"type":"Collection"}},"Social":{"47845374c4a7":{"userId":"lo_449572addf3a","targetUserId":"47845374c4a7","type":"Social"}},"SocialStats":{"47845374c4a7":{"userId":"47845374c4a7","usersFollowedCount":87,"usersFollowedByCount":63,"type":"SocialStats"}}}})
// ]]></script></body></html>
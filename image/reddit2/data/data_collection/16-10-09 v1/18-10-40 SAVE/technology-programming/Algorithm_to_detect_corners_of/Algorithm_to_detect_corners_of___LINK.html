<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/QAPage">
<head>

<title>image processing - Algorithm to detect corners of paper sheet in photo - Stack Overflow</title>
    <link rel="shortcut icon" href="http://cdn.sstatic.net/Sites/stackoverflow/img/favicon.ico?v=4f32ecc8f43d">
    <link rel="apple-touch-icon image_src" href="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">
    <link rel="search" type="application/opensearchdescription+xml" title="Stack Overflow" href="/opensearch.xml">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="stackoverflow.com"/>
    <meta property="og:type" content="website" />

    <meta property="og:image" itemprop="image primaryImageOfPage" content="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon@2.png?v=73d79a89bded&a" />
    <meta name="twitter:title" property="og:title" itemprop="title name" content="Algorithm to detect corners of paper sheet in photo" />
    <meta name="twitter:description" property="og:description" itemprop="description" content="What is the best way to detect the corners of an invoice/receipt/sheet-of-paper in a photo? This is to be used for subsequent perspective correction, before OCR.

My current approach has been:

RGB &gt; " />
    <meta property="og:url" content="http://stackoverflow.com/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo"/>
    <link rel="canonical" href="http://stackoverflow.com/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo" />

    
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="http://cdn.sstatic.net/Js/stub.en.js?v=2c529293c8b5"></script>
    <link rel="stylesheet" type="text/css" href="http://cdn.sstatic.net/Sites/stackoverflow/all.css?v=2ff4d7c4ed6d">

            <link rel="alternate" type="application/atom+xml" title="Feed for question &#39;Algorithm to detect corners of paper sheet in photo&#39;" href="/feeds/question/6555629">
            <meta name="twitter:app:country" content="US" />
            <meta name="twitter:app:name:iphone" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:iphone" content="871299723" />
            <meta name="twitter:app:url:iphone" content="se-zaphod://stackoverflow.com/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo" />
            <meta name="twitter:app:name:ipad" content="Stack Exchange iOS" />
            <meta name="twitter:app:id:ipad" content="871299723" />
            <meta name="twitter:app:url:ipad" content="se-zaphod://stackoverflow.com/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo" />
            <meta name="twitter:app:name:googleplay" content="Stack Exchange Android">
            <meta name="twitter:app:url:googleplay" content="http://stackoverflow.com/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo">
            <meta name="twitter:app:id:googleplay" content="com.stackexchange.marvin">
        <script>
        
            StackExchange.ready(function () {
                    
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.initSnippetRenderer();
                    });
                    

                StackExchange.using("postValidation", function () {
                    StackExchange.postValidation.initOnBlurAndSubmit($('#post-form'), 2, 'answer');
                });

                
                StackExchange.question.init({showAnswerHelp:true,totalCommentCount:5,shownCommentCount:5,highlightColor:'#F4A83D',backgroundColor:'#FFF',questionId:6555629});

                styleCode();

                    StackExchange.realtime.subscribeToQuestion('1', '6555629');
                                                                    StackExchange.using("gps", function () { StackExchange.gps.trackOutboundClicks('#content', '.post-text'); });

            });
        </script>


    <script>
        StackExchange.init({"locale":"en","stackAuthUrl":"https://stackauth.com","networkMetaHostname":"meta.stackexchange.com","serverTime":1476058286,"routeName":"Questions/Show","site":{"name":"Stack Overflow","description":"Q&A for professional and enthusiast programmers","isNoticesTabEnabled":true,"recaptchaPublicKey":"6LdchgIAAAAAAJwGpIzRQSOFaO0pU6s44Xt8aTwc","recaptchaAudioLang":"en","enableNewTagCreationWarning":true,"insertSpaceAfterNameTabCompletion":false,"id":1,"enableInsertDocLinkDialog":true,"enableSocialMediaInSharePopup":true},"user":{"fkey":"1358f4d64632cce3c327aebee7e8b77e","rep":0,"isAnonymous":true,"isAnonymousNetworkWide":true}}, {"site":{"allowImageUploads":true,"enableUserHovercards":true,"styleCode":true,"enableNewLinkInsertDialog":true},"tags":{},"accounts":{"currentPasswordRequiredForChangingStackIdPassword":true},"flags":{"allowRetractingFlags":true},"snippets":{"snippetsEnabled":true,"renderDomain":"stacksnippets.net"},"markdown":{"asteriskIntraWordEmphasis":true}});
        StackExchange.using.setCacheBreakers({"js/prettify-full.en.js":"806713665168","js/moderator.en.js":"1c93659f5989","js/full-anon.en.js":"5e2c983358e0","js/full.en.js":"0852174734c9","js/wmd.en.js":"2acc739b9e56","js/third-party/jquery.autocomplete.min.js":"e5f01e97f7c3","js/third-party/jquery.autocomplete.min.en.js":"","js/mobile.en.js":"71d6f5fc10b0","js/help.en.js":"a56fdf9b9ff2","js/tageditor.en.js":"9c6df10dabc4","js/tageditornew.en.js":"3c9b516d7fa4","js/inline-tag-editing.en.js":"dcf39598d8f7","js/revisions.en.js":"47de10a8358f","js/review.en.js":"2d9f6c96548a","js/tagsuggestions.en.js":"78eee7c19ab2","js/post-validation.en.js":"0d51dac28b4f","js/explore-qlist.en.js":"d33e3ab2f2e0","js/events.en.js":"6a680ed6cd96","js/keyboard-shortcuts.en.js":"82136088f559","js/external-editor.en.js":"9d2dbfbb087d","js/external-editor.en.js":"9d2dbfbb087d","js/snippet-javascript.en.js":"b9a5f9fa88ee","js/snippet-javascript-codemirror.en.js":"3513cbe0a98c"});
        StackExchange.using("gps", function() {
             StackExchange.gps.init(true);
        });
    </script>
    
        <script>
            StackExchange.ready(function () {
                $('#nav-tour').click(function () {
                    StackExchange.using("gps", function() {
                        StackExchange.gps.track("aboutpage.click", { aboutclick_location: "headermain" }, true);
                    });
                });
            });
        </script>
</head>
<body class="question-page new-topbar">
    <noscript><div id="noscript-padding"></div></noscript>
            <script>(function () { var old = $.fn.contents; $.fn.contents = function () { try { return old.apply(this, arguments); } catch (e) { return $([]); } } })()</script>
        <iframe id="adzerk-user-match" width="0" height="0" frameborder="0" scrolling="no" onload="window.AUMIframeDone=true"
                src="https://ssum-sec.casalemedia.com/usermatch?s=183712&amp;cb=https%3A%2F%2Fengine.adzerk.net%2Fudb%2F22%2Fsync%2Fi.gif%3FpartnerId%3D1%26userId%3D"
                style="display: none;" marginheight="0" marginwidth="0"></iframe>




    <div id="notify-container"></div>
    <div id="custom-header"></div>





<div class="topbar">
    <div class="topbar-wrapper">

        <div class="js-topbar-dialog-corral">


<div class="topbar-dialog siteSwitcher-dialog dno">
    <div class="header">
        <h3><a href="http://stackoverflow.com">current community</a></h3>
    </div>
    <div class="modal-content current-site-container">
        <ul class="current-site">
                <li>
                        <div class="related-links">
                    <a href="http://chat.stackoverflow.com" class="js-gps-track"     data-gps-track="site_switcher.click({ item_type:6 })"
>chat</a>
            </div>




    <a href="http://stackoverflow.com"
       class="current-site-link site-link js-gps-track"
       data-id="1"
       data-gps-track="
        site_switcher.click({ item_type:3 })">
        <div class="site-icon favicon favicon-stackoverflow" title="Stack Overflow"></div>
        Stack Overflow
    </a>

                </li>
                <li class="related-site">
                        <div class="L-shaped-icon-container">
        <span class="L-shaped-icon"></span>
    </div>

                    



    <a href="http://meta.stackoverflow.com"
       class="site-link js-gps-track"
       data-id="552"
       data-gps-track="
            site.switch({ target_site:552, item_type:3 }),
        site_switcher.click({ item_type:4 })">
        <div class="site-icon favicon favicon-stackoverflowmeta" title="Meta Stack Overflow"></div>
        Meta Stack Overflow
    </a>

                </li>
        </ul>
    </div>
    <div class="header" id="your-communities-header">
        <h3>
your communities        </h3>
            
    </div>
    <div class="modal-content" id="your-communities-section">
            
            <div class="call-to-login">
<a href="https://stackoverflow.com/users/signup?ssrc=site_switcher&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo" class="login-link js-gps-track"     data-gps-track="site_switcher.click({ item_type:10 })"
>Sign up</a> or <a href="https://stackoverflow.com/users/login?ssrc=site_switcher&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo" class="login-link js-gps-track"     data-gps-track="site_switcher.click({ item_type:11 })"
>log in</a> to customize your list.
            </div>
    </div>
    <div class="header">
        <h3><a href="http://stackexchange.com/sites">more stack exchange communities</a></h3>
        <a href="http://blog.stackoverflow.com" class="fr">company blog</a>
    </div>
    <div class="modal-content">
            <div class="child-content"></div>
    </div>
</div>
        </div>

        <div class="network-items">
                <a href="http://stackexchange.com"
                   class="topbar-icon icon-site-switcher yes-hover js-site-switcher-button js-gps-track"
                   data-gps-track="site_switcher.show"
                   title="A list of all 161 Stack Exchange sites">
                    <span class="hidden-text">Stack Exchange</span>
                </a>

    <a href="#"
       class="topbar-icon icon-inbox yes-hover js-inbox-button"
       title="Recent inbox messages">
        <span class="hidden-text">Inbox</span>
        <span class="unread-count" style="display:none"></span>
    </a>
    <a href="#"
       class="topbar-icon icon-achievements yes-hover js-achievements-button "
       data-unread-class=""
       title="Recent achievements: reputation, badges, and privileges earned">
        <span class="hidden-text">Reputation and Badges</span>
        <span class="unread-count" style="display:none">
            
        </span>
    </a>
        </div>

        <div class="topbar-links">

                <div class="links-container">
                <span class="topbar-menu-links">
                                    <a href="https://stackoverflow.com/users/signup?ssrc=head&returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo" class="login-link">sign up</a>
                                <a href="https://stackoverflow.com/users/login?ssrc=head&returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo" class="login-link">log in</a>

                            <a href="/tour">tour</a>
        <a href="#" class="icon-help js-help-button" title="Help Center and other resources">
            help
            <span class="triangle"></span>
        </a>
    <div class="topbar-dialog help-dialog js-help-dialog dno">
        <div class="modal-content">
            <ul>
                                    <li>
                        <a href="/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1 })">
                            Tour
                            <span class="item-summary">
                                Start here for a quick overview of the site
                            </span>
                        </a>
                    </li>
                <li>
                    <a href="/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4 })">
                        Help Center
                        <span class="item-summary">
                            Detailed answers to any questions you might have
                        </span>
                    </a>
                </li>
                        <li>
                            <a href="http://meta.stackoverflow.com" class="js-gps-track" data-gps-track="help_popup.click({ item_type:2 })">
                                Meta
                                <span class="item-summary">
                                    Discuss the workings and policies of this site
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://stackoverflow.com/company/about" class="js-gps-track" data-gps-track="help_popup.click({ item_type:6 })">
                                About Us
                                <span class="item-summary">
                                    Learn more about Stack Overflow the company
                                </span>
                            </a>
                        </li>
                        <li>
                            <a href="http://business.stackoverflow.com/?ref=topbar_help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:7 })">
                                Business
                                <span class="item-summary">
                                    Learn more about hiring developers or posting ads with us
                                </span>
                            </a>
                        </li>
            </ul>
        </div>
    </div>
                                            </span>
                </div>

            <div class="search-container">
                <form id="search" action="/search" method="get" autocomplete="off">
                    <input name="q" type="text" placeholder="Search Q&amp;A" value="" tabindex="1" autocomplete="off" maxlength="240" />
                </form>
            </div>

        </div>
    </div>
</div>
    <script>
        StackExchange.ready(function() { StackExchange.topbar.init(); });
    </script>

    <div class="container">
        <div id="header">
            <br class="cbt">
            <div id="hlogo">
                <a href="/" >
                    Stack Overflow
                </a>
            </div>
            <div id="hmenus">
                <div class="nav mainnavs">
                    <ul>
                        <li class="youarehere"><a id="nav-questions" href="/questions">Questions</a></li>
                            <li><a id="nav-jobs" href="/jobs?med=site-ui&ref=jobs-tab">Jobs</a></li>
                                                <li><a id="nav-docs" href="/documentation">Documentation</a></li>
                        <li><a id="nav-tags" href="/tags">Tags</a></li>
                        <li><a id="nav-users" href="/users">Users</a></li>
                        <li><a id="nav-badges" href="/help/badges">Badges</a></li>
                    </ul>
                </div>
                <div class="nav askquestion">
                    <ul>
                        <li>
                            <a id="nav-askquestion"  href="/questions/ask">Ask Question</a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        



        <div id="content" class="snippet-hidden">
            

<div itemscope itemtype="http://schema.org/Question">
    <link itemprop="image" href="http://cdn.sstatic.net/Sites/stackoverflow/img/apple-touch-icon.png?v=c78bd457575a">


    <div id="herobox" class="alternate">
        <div class="test"></div>
            <div id="close">
                <a title="click to minimize"><span>x</span> Dismiss</a>
            </div>
        <div class="content">
            <b>Join the Stack Overflow Community</b>
            <div class="separator"></div>
            <div class="blurb">
                Stack Overflow is a community of 4.7 million programmers, just like you, helping each other.
                    <br />
Join them; it only takes a minute:                    <br />
            </div>
            <a href="/users/signup?ssrc=hero&amp;returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo" id="tell-me-more" class="button">Sign up</a>
        </div>
    </div>
<script>
    StackExchange.ready(function () {

        var location = 0;
        if ($("body").hasClass("questions-page")) {
            location = 1;;
        } else if ($("body").hasClass("question-page")) {
            location = 1;;
        } else if ($("body").hasClass("faq-page")) {
            location = 5;;
        } else if ($("body").hasClass("home-page")) {
            location = 3;;
        }

        $('#tell-me-more').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: 'cta', location: location }, true);
            });
        });
        $('#herobox #close').click(function () {
            StackExchange.using("gps", function () {
                StackExchange.gps.track("hero.action", { hero_action_type: "minimize", location: location }, true);
            });
            $.cookie("hero", "mini", { path: "/", expires: 365 });
            $.ajax({
                url: "/hero-mini",
                success: function (data) {
                    $("#herobox").fadeOut("fast", function () {
                        $("#herobox").replaceWith(data);
                        $("#herobox-mini").fadeIn("fast");
                    });
                }
            });
            return false;
        });
    });

</script>			<div id="question-header">
                <h1 itemprop="name"><a href="/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo" class="question-hyperlink">Algorithm to detect corners of paper sheet in photo</a></h1>
		</div>
			<div id="mainbar">

			

<div class="question" data-questionid="6555629"  id="question">

    <script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1399803002",4).setZone(43); });
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1399803002"></div>    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="6555629">
        <a class="vote-up-off" title="This question shows research effort; it is useful and clear">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">54</span>
        <a class="vote-down-off" title="This question does not show any research effort; it is unclear or not useful">down vote</a>

        <a class="star-off" href="#">favorite</a>
        <div class="favoritecount"><b>63</b></div>


</div>

            </td>
            
<td class="postcell">
<div>
    <div class="post-text" itemprop="text">

<p>What is the best way to detect the corners of an invoice/receipt/sheet-of-paper in a photo? This is to be used for subsequent perspective correction, before OCR.</p>

<h2>My current approach has been:</h2>

<p>RGB > Gray > Canny Edge Detection with thresholding > Dilate(1) > Remove small objects(6) > clear boarder objects > pick larges blog based on Convex Area. > [corner detection - Not implemented]</p>

<p>I can't help but think there must be a more robust 'intelligent'/statistical approach to handle this type of segmentation. I don't have a lot of training examples, but I could probably get 100 images together.</p>

<h2>Broader context:</h2>

<p>I'm using matlab to prototype, and planning to implement the system in OpenCV and Tesserect-OCR. This is the first of a number of image processing problems I need to solve for this specific application. So I'm looking to roll my own solution and re-familiarize myself with image processing algorithms. </p>

<p>Here are some sample image that I'd like the algorithm to handle: If you'd like to take up the challenge the large images are at <a href="http://madteckhead.com/tmp">http://madteckhead.com/tmp</a> </p>

<p><img src="http://madteckhead.com/tmp/IMG_0773_sml.jpg" alt="case 1">
<img src="http://madteckhead.com/tmp/IMG_0774_sml.jpg" alt="case 2">
<img src="http://madteckhead.com/tmp/IMG_0775_sml.jpg" alt="case 3">
<img src="http://madteckhead.com/tmp/IMG_0776_sml.jpg" alt="case 4"></p>

<h2>In the best case this gives:</h2>

<p><img src="http://madteckhead.com/tmp/IMG_0773_canny.jpg" alt="case 1 - canny">
<img src="http://madteckhead.com/tmp/IMG_0773_postcanny.jpg" alt="case 1 - post canny">
<img src="http://madteckhead.com/tmp/IMG_0773_blob.jpg" alt="case 1 - largest blog"></p>

<h2>However it fails easily on other cases:</h2>

<p><img src="http://madteckhead.com/tmp/IMG_0774_canny.jpg" alt="case 2 - canny">
<img src="http://madteckhead.com/tmp/IMG_0774_postcanny.jpg" alt="case 2 - post canny">
<img src="http://madteckhead.com/tmp/IMG_0774_blob.jpg" alt="case 2 - largest blog"></p>

<p>Thanks in advance for all the great ideas! I love SO!</p>

<h2>EDIT: Hough Transform Progress</h2>

<p>Q: What algorithm would cluster the hough lines to find corners?
Following advice from answers I was able to use the Hough Transform, pick lines, and filter them. My current approach is rather crude. I've made the assumption the invoice will always be less than 15deg out of alignment with the image. I end up with reasonable results for lines if this is the case (see below). But am not entirely sure of a suitable algorithm to cluster the lines (or vote) to extrapolate for the corners. The Hough lines are not continuous. And in the noisy images, there can be parallel lines so some form or distance from line origin metrics are required. Any ideas?</p>

<p><img src="http://madteckhead.com/tmp/IMG_0773_hough.jpg" alt="case 1">
<img src="http://madteckhead.com/tmp/IMG_0774_hough.jpg" alt="case 2">
<img src="http://madteckhead.com/tmp/IMG_0775_hough.jpg" alt="case 3">
<img src="http://madteckhead.com/tmp/IMG_0776_hough.jpg" alt="case 4"></p>
    </div>
    <div class="post-taglist">
        <a href="/questions/tagged/image-processing" class="post-tag" title="show questions tagged &#39;image-processing&#39;" rel="tag">image-processing</a> <a href="/questions/tagged/opencv" class="post-tag" title="show questions tagged &#39;opencv&#39;" rel="tag">opencv</a> <a href="/questions/tagged/edge-detection" class="post-tag" title="show questions tagged &#39;edge-detection&#39;" rel="tag">edge-detection</a> <a href="/questions/tagged/hough-transform" class="post-tag" title="show questions tagged &#39;hough-transform&#39;" rel="tag">hough-transform</a> <a href="/questions/tagged/image-segmentation" class="post-tag" title="show questions tagged &#39;image-segmentation&#39;" rel="tag">image-segmentation</a> 
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/q/6555629" title="short permalink to this question" class="short-link" id="link-post-6555629">share</a><span class="lsep">|</span><a href="/posts/6555629/edit" class="suggest-edit-post" title="">improve this question</a></div>        
    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/6555629/revisions" title="show all edits to this post">edited <span title="2011-07-12 00:39:32Z" class="relativetime">Jul 12 '11 at 0:39</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
    <td class="post-signature owner">
        <div class="user-info ">
    <div class="user-action-time">
        asked <span title="2011-07-02 07:12:23Z" class="relativetime">Jul 2 '11 at 7:12</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/647549/nathan-keller"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/d59fba59625d371de4946faa40ad3729?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/647549/nathan-keller">Nathan Keller</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">521</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="15 bronze badges"><span class="badge3"></span><span class="badgecount">15</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</div>
</td>
        </tr>
                
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-6555629" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-7858745" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">access to the large images is forbidden. se for example <a href="http://madteckhead.com/tmp/IMG_0774.JPG" rel="nofollow">madteckhead.com/tmp/IMG_0774.JPG</a></span>
		            &ndash;&nbsp;<span class="comment-user">user235064</span>
                <span class="comment-date" dir="ltr"><span title="2011-07-11 12:43:43Z" class="relativetime-clean">Jul 11 '11 at 12:43</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-7870677" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">thanks for pointing that out. should be right now. But i did rename the files to use lowercase. Look forward to seeing what you come up with.</span>
                    &ndash;&nbsp;<a href="/users/647549/nathan-keller"
                       title="521 reputation"
                       class="comment-user owner">Nathan Keller</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-12 00:40:24Z" class="relativetime-clean">Jul 12 '11 at 0:40</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-11162985" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@NathanKeller Even I am facing the same issue of detecting the corners of a document. Are you able to solve this issue ?,if yes would like you to share some code withe me too. Thanks!!!</span>
                    &ndash;&nbsp;<a href="/users/434898/ajay-sharma"
                       title="4,118 reputation"
                       class="comment-user">Ajay Sharma</a>
                <span class="comment-date" dir="ltr"><span title="2012-01-19 07:04:49Z" class="relativetime-clean">Jan 19 '12 at 7:04</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-11253697" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Yes, I got it to work in about 95% of cases. I&#39;ve since had to shelve the code due to time shortages. I&#39;ll post a follow up at some stage, feel free to commission me if you require urgent help. Sorry for the lack of good follow up. I&#39;d love to get back to working on this feature.</span>
                    &ndash;&nbsp;<a href="/users/647549/nathan-keller"
                       title="521 reputation"
                       class="comment-user owner">Nathan Keller</a>
                <span class="comment-date" dir="ltr"><span title="2012-01-24 03:59:25Z" class="relativetime-clean">Jan 24 '12 at 3:59</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-34420796" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Nathan, could you please post a follow up on how you ended up doing it? I&#39;ve stuck at the same point recognizing corners / outter-contour of sheet of papers. I run into the exact same problems as you did so I&#39;d be highly interested in a solution.</span>
                    &ndash;&nbsp;<a href="/users/701049/tim"
                       title="4,079 reputation"
                       class="comment-user">tim</a>
                <span class="comment-date" dir="ltr"><span title="2014-03-24 10:30:42Z" class="relativetime-clean">Mar 24 '14 at 10:30</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-6555629" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid answering questions in comments."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>        </table>
</div>

			<div id="answers">

				<a name="tab-top"></a>
				<div id="answers-header">
					<div class="subheader answers-subheader">
						<h2>
								8 Answers
                                <span style="display:none;" itemprop="answerCount">8</span>
						</h2>
						<div>
							<div id="tabs">
        <a href="/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo?answertab=active#tab-top" data-nav-xhref="" title="Answers with the latest activity first" data-value="active" data-shortcut="A">
            active</a>
        <a href="/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo?answertab=oldest#tab-top" data-nav-xhref="" title="Answers in the order they were provided" data-value="oldest" data-shortcut="O">
            oldest</a>
        <a class="youarehere" href="/questions/6555629/algorithm-to-detect-corners-of-paper-sheet-in-photo?answertab=votes#tab-top" data-nav-xhref="" title="Answers with the highest score first" data-value="votes" data-shortcut="V">
            votes</a>
</div>
						</div>
					</div>    
				</div>    




  
<a name="6644246"></a>
<div id="answer-6644246" class="answer accepted-answer" data-answerid="6644246"  itemscope itemtype="http://schema.org/Answer" itemprop="acceptedAnswer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="6644246">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">18</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>



        <span class="vote-accepted-on load-accepted-answer-date" title="loading when this answer was accepted...">accepted</span>

</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>I'm Martin's friend who was working on this earlier this year. This was my first ever coding project, and kinda ended in a bit of a rush, so the code needs some errr...decoding... 
I'll give a few tips from what I've seen you doing already, and then sort my code on my day off tomorrow.</p>

<p>First tip, <code>OpenCV</code> and <code>python</code> are awesome, move to them as soon as possible. :D</p>

<p>Instead of removing small objects and or noise, lower the canny restraints, so it accepts more edges, and then find the largest closed contour (in OpenCV use <code>findcontour()</code> with some simple parameters, I think I used <code>CV_RETR_LIST</code>). might still struggle when it's on a white piece of paper, but was definitely providing best results. </p>

<p>For the <code>Houghline2()</code> Transform, try with the <code>CV_HOUGH_STANDARD</code> as opposed to the <code>CV_HOUGH_PROBABILISTIC</code>, it'll give <em>rho</em> and <em>theta</em> values, defining the line in polar coordinates, and then you can group the lines within a certain tolerance to those. </p>

<p>My grouping worked as a look up table, for each line outputted from the hough transform it would give a rho and theta pair. If these values were within, say 5% of a pair of values in the table, they were discarded, if they were outside that 5%, a new entry was added to the table.</p>

<p>You can then do analysis of parallel lines or distance between lines much more easily.</p>

<p>Hope this helps.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/6644246" title="short permalink to this answer" class="short-link" id="link-post-6644246">share</a><span class="lsep">|</span><a href="/posts/6644246/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/6644246/revisions" title="show all edits to this post">edited <span title="2016-02-27 17:35:54Z" class="relativetime">Feb 27 at 17:35</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1566267/john-west"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/587e35626fc8fa2bfd9af27216d2c16b?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1566267/john-west">John_West</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,517</span><span title="3 gold badges"><span class="badge1"></span><span class="badgecount">3</span></span><span title="12 silver badges"><span class="badge2"></span><span class="badgecount">12</span></span><span title="27 bronze badges"><span class="badge3"></span><span class="badgecount">27</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2011-07-10 22:47:23Z" class="relativetime">Jul 10 '11 at 22:47</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/837911/daniel-crowley"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/a2aa3041c6c3dc92c76c80a097a231e2?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/837911/daniel-crowley">Daniel Crowley</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">301</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span><span title="4 bronze badges"><span class="badge3"></span><span class="badgecount">4</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-6644246" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-7870707" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Hi Daniel, thanks for getting involved. I like you approach. its actually the route Im getting good results with at the moment. There was even and OpenCV example what detected the rectangles. Just had to do some filtering on the results. as you were saying the white on white is difficult t detect with this method. But it was a simple and less costly approach than the hough. I&#39;ve actually left the hough approach out of my algo and have done a poly approximation, have a look at the squares example in opencv. I&#39;d like to see your implementation of the hough voting. Thanks in advance, Nathan</span>
                    &ndash;&nbsp;<a href="/users/647549/nathan-keller"
                       title="521 reputation"
                       class="comment-user owner">Nathan Keller</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-12 00:46:15Z" class="relativetime-clean">Jul 12 '11 at 0:46</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-6644246" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>
<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk1630570356",4).setZone(44); });
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk1630570356"></div>
  
<a name="6555842"></a>
<div id="answer-6555842" class="answer" data-answerid="6555842"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="6555842">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">11</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>A student group at my university recently demonstrated an iPhone app (and python OpenCV app) that they'd written to do exactly this. As I remember, the steps were something like this:</p>

<ul>
<li>Median filter to completely remove the text on the paper (this was handwritten text on white paper with fairly good lighting and may not work with printed text, it worked very well). The reason was that it makes the corner detection much easier.</li>
<li>Hough Transform for lines</li>
<li>Find the peaks in the Hough Transform accumulator space and draw each line across the entire image.</li>
<li>Analyse the lines and remove any that are very close to each other and are at a similar angle (cluster the lines into one). This is necessary because the Hough Transform isn't perfect as it's working in a discrete sample space.</li>
<li>Find pairs of lines that are roughly parallel and that intersect other pairs to see which lines form quads.</li>
</ul>

<p>This seemed to work fairly well and they were able to take a photo of a piece of paper or book, perform the corner detection and then map the document in the image onto a flat plane in almost realtime (there was a single OpenCV function to perform the mapping). There was no OCR when I saw it working.</p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/6555842" title="short permalink to this answer" class="short-link" id="link-post-6555842">share</a><span class="lsep">|</span><a href="/posts/6555842/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2011-07-02 08:03:24Z" class="relativetime">Jul 2 '11 at 8:03</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/825879/martin-foot"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/7f1337e821b76b5d58838095a72a6ec0?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/825879/martin-foot">Martin Foot</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,890</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="14 silver badges"><span class="badge2"></span><span class="badgecount">14</span></span><span title="32 bronze badges"><span class="badge3"></span><span class="badgecount">32</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-6555842" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-7744755" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Thanks for the great ideas Martin. Ive taken your advice and implemented the Hough transform approach. (See results above). I&#39;m struggling to determine a robust algorithm that will extrapolate the lines to find the intersections. There are not many lines, and a few false positives. Do you have any advice on how I might best merge and discard lines? If your students are interested, please encourage them to get in contact. I&#39;d love to hear their experiences in getting the algorithms to run on a mobile platform. (That is my next goal). Many thanks for your ideas.</span>
                    &ndash;&nbsp;<a href="/users/647549/nathan-keller"
                       title="521 reputation"
                       class="comment-user owner">Nathan Keller</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-04 08:54:30Z" class="relativetime-clean">Jul 4 '11 at 8:54</span></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-7780014" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">It looks like the HT for lines has worked well in all but your second image, but are you defining a threshold tolerance for your start and end values in the accumulator? The HT doesn&#39;t really define start and end positions, rather the m and c values in y=mx+c. See <a href="http://users.ecs.soton.ac.uk/msn/book/new_demo/hough/" rel="nofollow">here</a> - note that this is using polar coordinates in the accumulator rather than cartesian. In this way you can group lines by c and then by m in order to thin them out and by imagining the lines as extending across the whole image you&#39;ll find more useful intersections.</span>
                    &ndash;&nbsp;<a href="/users/825879/martin-foot"
                       title="1,890 reputation"
                       class="comment-user">Martin Foot</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-06 10:13:52Z" class="relativetime-clean">Jul 6 '11 at 10:13</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-6555842" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="18908023"></a>
<div id="answer-18908023" class="answer" data-answerid="18908023"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="18908023">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">10</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Here's what I came up with after a bit of experimentation:</p>

<pre><code>import cv, cv2, numpy as np
import sys

def get_new(old):
    new = np.ones(old.shape, np.uint8)
    cv2.bitwise_not(new,new)
    return new

if __name__ == '__main__':
    orig = cv2.imread(sys.argv[1])

    # these constants are carefully picked
    MORPH = 9
    CANNY = 84
    HOUGH = 25

    img = cv2.cvtColor(orig, cv2.COLOR_BGR2GRAY)
    cv2.GaussianBlur(img, (3,3), 0, img)


    # this is to recognize white on white
    kernel = cv2.getStructuringElement(cv2.MORPH_RECT,(MORPH,MORPH))
    dilated = cv2.dilate(img, kernel)

    edges = cv2.Canny(dilated, 0, CANNY, apertureSize=3)

    lines = cv2.HoughLinesP(edges, 1,  3.14/180, HOUGH)
    for line in lines[0]:
         cv2.line(edges, (line[0], line[1]), (line[2], line[3]),
                         (255,0,0), 2, 8)

    # finding contours
    contours, _ = cv2.findContours(edges.copy(), cv.CV_RETR_EXTERNAL,
                                   cv.CV_CHAIN_APPROX_TC89_KCOS)
    contours = filter(lambda cont: cv2.arcLength(cont, False) &gt; 100, contours)
    contours = filter(lambda cont: cv2.contourArea(cont) &gt; 10000, contours)

    # simplify contours down to polygons
    rects = []
    for cont in contours:
        rect = cv2.approxPolyDP(cont, 40, True).copy().reshape(-1, 2)
        rects.append(rect)

    # that's basically it
    cv2.drawContours(orig, rects,-1,(0,255,0),1)

    # show only contours
    new = get_new(img)
    cv2.drawContours(new, rects,-1,(0,255,0),1)
    cv2.GaussianBlur(new, (9,9), 0, new)
    new = cv2.Canny(new, 0, CANNY, apertureSize=3)

    cv2.namedWindow('result', cv2.WINDOW_NORMAL)
    cv2.imshow('result', orig)
    cv2.waitKey(0)
    cv2.imshow('result', dilated)
    cv2.waitKey(0)
    cv2.imshow('result', edges)
    cv2.waitKey(0)
    cv2.imshow('result', new)
    cv2.waitKey(0)

    cv2.destroyAllWindows()
</code></pre>

<p>Not perfect, but at least works for all samples:</p>

<p><img src="http://i.stack.imgur.com/kJcOp.png" alt="1">
<img src="http://i.stack.imgur.com/AX0rz.png" alt="2">
<img src="http://i.stack.imgur.com/el90f.png" alt="3">
<img src="http://i.stack.imgur.com/QAyJM.png" alt="4"></p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/18908023" title="short permalink to this answer" class="short-link" id="link-post-18908023">share</a><span class="lsep">|</span><a href="/posts/18908023/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-09-20 02:42:09Z" class="relativetime">Sep 20 '13 at 2:42</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/99024/vanuan"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/8c4b4a99d5794c95f52c58a2bf8e1710?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/99024/vanuan">Vanuan</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 10,054" dir="ltr">10.1k</span><span title="6 gold badges"><span class="badge1"></span><span class="badgecount">6</span></span><span title="47 silver badges"><span class="badge2"></span><span class="badgecount">47</span></span><span title="64 bronze badges"><span class="badge3"></span><span class="badgecount">64</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-18908023" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-30982843" class="comment ">
        <td class="comment-actions">
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                <span title="number of &#39;useful comment&#39; votes received"
                                      class="cool">1</span>
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">I&#39;m working on the similar project. I run above the code and it gives me the error &quot; No module named cv &quot;. I installed the Open CV 2.4 version and import cv2 is working perfectly for me.</span>
                    &ndash;&nbsp;<a href="/users/1437136/navneet-singh"
                       title="578 reputation"
                       class="comment-user">Navneet Singh</a>
                <span class="comment-date" dir="ltr"><span title="2013-12-19 17:59:15Z" class="relativetime-clean">Dec 19 '13 at 17:59</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-18908023" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="16751189"></a>
<div id="answer-16751189" class="answer" data-answerid="16751189"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="16751189">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">7</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Instead of starting from edge detection you could use Corner detection.</p>

<p><a href="http://marvinproject.sourceforge.net/en/plugins/moravec.html">Marvin Framework</a> provides an implementation of Moravec algorithm for this purpose. You could find the corners of the papers as a starting point. Below the output of Moravec's algorithm:</p>

<p><img src="http://i.stack.imgur.com/3V5rj.png" alt="enter image description here"></p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/16751189" title="short permalink to this answer" class="short-link" id="link-post-16751189">share</a><span class="lsep">|</span><a href="/posts/16751189/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info ">
    <div class="user-action-time">
        <a href="/posts/16751189/revisions" title="show all edits to this post">edited <span title="2013-05-27 19:16:58Z" class="relativetime">May 27 '13 at 19:16</span></a>
    </div>
    <div class="user-gravatar32">
        
    </div>
    <div class="user-details">
        
        <div class="-flair">
            
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info user-hover">
    <div class="user-action-time">
        answered <span title="2013-05-25 15:42:55Z" class="relativetime">May 25 '13 at 15:42</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/2420599/gabriel-ambr%c3%b3sio-archanjo"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/UitQ1.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/2420599/gabriel-ambr%c3%b3sio-archanjo">Gabriel Ambr&#243;sio Archanjo</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">2,529</span><span title="2 gold badges"><span class="badge1"></span><span class="badgecount">2</span></span><span title="9 silver badges"><span class="badge2"></span><span class="badgecount">9</span></span><span title="24 bronze badges"><span class="badge3"></span><span class="badgecount">24</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-16751189" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-16751189" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="6559898"></a>
<div id="answer-6559898" class="answer" data-answerid="6559898"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="6559898">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">3</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>After edge-detection, use Hough Transform. 
Then, put those points in an SVM(supporting vector machine) with their labels, if the examples have smooth lines on them, SVM will not have any difficulty to divide the necessary parts of the example and other parts. My advice on SVM, put a parameter like connectivity and length. That is, if points are connected and long, they are likely to be a line of the receipt. Then, you can eliminate all of the other points. </p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/6559898" title="short permalink to this answer" class="short-link" id="link-post-6559898">share</a><span class="lsep">|</span><a href="/posts/6559898/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2011-07-02 22:17:31Z" class="relativetime">Jul 2 '11 at 22:17</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/826415/hephaestus"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/c94069786fb1046a74b13774e0afbcbc?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/826415/hephaestus">Hephaestus</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">38</span><span title="1 silver badge"><span class="badge2"></span><span class="badgecount">1</span></span><span title="5 bronze badges"><span class="badge3"></span><span class="badgecount">5</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-6559898" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-7744805" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Hi Ares, thanks for your ideas! I&#39;ve implemented the Hough transform (see above). I can&#39;t work out a robust way to find the corners given the false positives, and non continuous lines. Do you have any further ideas? It has been awhile since I looked at SVM techniques. Am is this a supervised approach? I don&#39;t have any training data, but I could generate some. I would be interested in exploring the approach as am keen to learn more about SVM. Can you recommend any resources. Kind regards. Nathan</span>
                    &ndash;&nbsp;<a href="/users/647549/nathan-keller"
                       title="521 reputation"
                       class="comment-user owner">Nathan Keller</a>
                <span class="comment-date" dir="ltr"><span title="2011-07-04 08:59:21Z" class="relativetime-clean">Jul 4 '11 at 8:59</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-6559898" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="19083302"></a>
<div id="answer-19083302" class="answer" data-answerid="19083302"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="19083302">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">3</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Here you have @Vanuan 's code using C++:</p>

<pre class="lang-c++ prettyprint-override"><code>cv::cvtColor(mat, mat, CV_BGR2GRAY);
cv::GaussianBlur(mat, mat, cv::Size(3,3), 0);
cv::Mat kernel = cv::getStructuringElement(cv::MORPH_RECT, cv::Point(9,9));
cv::Mat dilated;
cv::dilate(mat, dilated, kernel);

cv::Mat edges;
cv::Canny(dilated, edges, 84, 3);

std::vector&lt;cv::Vec4i&gt; lines;
lines.clear();
cv::HoughLinesP(edges, lines, 1, CV_PI/180, 25);
std::vector&lt;cv::Vec4i&gt;::iterator it = lines.begin();
for(; it!=lines.end(); ++it) {
    cv::Vec4i l = *it;
    cv::line(edges, cv::Point(l[0], l[1]), cv::Point(l[2], l[3]), cv::Scalar(255,0,0), 2, 8);
}
std::vector&lt; std::vector&lt;cv::Point&gt; &gt; contours;
cv::findContours(edges, contours, CV_RETR_EXTERNAL, CV_CHAIN_APPROX_TC89_KCOS);
std::vector&lt; std::vector&lt;cv::Point&gt; &gt; contoursCleaned;
for (int i=0; i &lt; contours.size(); i++) {
    if (cv::arcLength(contours[i], false) &gt; 100)
        contoursCleaned.push_back(contours[i]);
}
std::vector&lt;std::vector&lt;cv::Point&gt; &gt; contoursArea;

for (int i=0; i &lt; contoursCleaned.size(); i++) {
    if (cv::contourArea(contoursCleaned[i]) &gt; 10000){
        contoursArea.push_back(contoursCleaned[i]);
    }
}
std::vector&lt;std::vector&lt;cv::Point&gt; &gt; contoursDraw (contoursCleaned.size());
for (int i=0; i &lt; contoursArea.size(); i++){
    cv::approxPolyDP(Mat(contoursArea[i]), contoursDraw[i], 40, true);
}
Mat drawing = Mat::zeros( mat.size(), CV_8UC3 );
cv::drawContours(drawing, contoursDraw, -1, cv::Scalar(0,255,0),1);
</code></pre>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/19083302" title="short permalink to this answer" class="short-link" id="link-post-19083302">share</a><span class="lsep">|</span><a href="/posts/19083302/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/19083302/revisions" title="show all edits to this post">edited <span title="2016-10-09 21:09:42Z" class="relativetime">3 hours ago</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/102441/eric"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/102441/eric">Eric</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 51,036" dir="ltr">51k</span><span title="24 gold badges"><span class="badge1"></span><span class="badgecount">24</span></span><span title="114 silver badges"><span class="badge2"></span><span class="badgecount">114</span></span><span title="226 bronze badges"><span class="badge3"></span><span class="badgecount">226</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2013-09-29 21:10:29Z" class="relativetime">Sep 29 '13 at 21:10</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/1625055/gbf-gabriel"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/37c3ff0607e0920a8ac89161653d8616?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/1625055/gbf-gabriel">GBF_Gabriel</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">1,214</span><span title="1 gold badge"><span class="badge1"></span><span class="badgecount">1</span></span><span title="7 silver badges"><span class="badge2"></span><span class="badgecount">7</span></span><span title="12 bronze badges"><span class="badge3"></span><span class="badgecount">12</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-19083302" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-39561886" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Where is lines variable definition? Must be std::vector&lt;cv::Vec4i&gt; lines;</span>
                    &ndash;&nbsp;<a href="/users/1335146/can-%c3%9crek"
                       title="414 reputation"
                       class="comment-user">Can &#220;rek</a>
                <span class="comment-date" dir="ltr"><span title="2014-08-18 19:24:40Z" class="relativetime-clean">Aug 18 '14 at 19:24</span></span>
                    <span class="edited-yes" title="this comment was edited 1 time"></span>
                                                                            </div>
                    </td>
    </tr>
    <tr id="comment-39637773" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">@Can&#220;rek You are right. <code>std::vector&lt;cv::Vec4i&gt; lines;</code> is declared in a global scope in my project.</span>
                    &ndash;&nbsp;<a href="/users/1625055/gbf-gabriel"
                       title="1,214 reputation"
                       class="comment-user">GBF_Gabriel</a>
                <span class="comment-date" dir="ltr"><span title="2014-08-20 17:30:29Z" class="relativetime-clean">Aug 20 '14 at 17:30</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-19083302" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="32048235"></a>
<div id="answer-32048235" class="answer" data-answerid="32048235"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="32048235">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">1</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<p>Also you can use <a href="http://cmp.felk.cvut.cz/~matas/papers/matas-bmvc02.pdf" rel="nofollow">MSER</a> (Maximally stable extremal regions) over Sobel operator result to find the stable regions of the image. For each region returned by MSER you can apply convex hull and poly approximation to obtain some like this:</p>

<p>But this kind of detection is useful for live detection more than a single picture that not always return the best result. </p>

<p><a href="http://i.stack.imgur.com/YcNmf.png" rel="nofollow"><img src="http://i.stack.imgur.com/YcNmf.png" alt="result"></a>  </p>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/32048235" title="short permalink to this answer" class="short-link" id="link-post-32048235">share</a><span class="lsep">|</span><a href="/posts/32048235/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2015-08-17 10:36:57Z" class="relativetime">Aug 17 '15 at 10:36</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3023422/flayn"><div class="gravatar-wrapper-32"><img src="https://i.stack.imgur.com/48KVD.png?s=32&amp;g=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3023422/flayn">Flayn</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">175</span><span title="2 silver badges"><span class="badge2"></span><span class="badgecount">2</span></span><span title="17 bronze badges"><span class="badge3"></span><span class="badgecount">17</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-32048235" class="comments ">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">



    <tr id="comment-63272937" class="comment ">
        <td>
            <table>
                <tbody>
                    <tr>
                        <td class=" comment-score">
                                &nbsp;&nbsp;
                        </td>
                        <td>
                                &nbsp;
                        </td>
                    </tr>
                </tbody>
            </table>
        </td>
        <td class="comment-text">
            <div style="display: block;" class="comment-body">
                <span class="comment-copy">Can you share some more details for this perhaps some code, thanks a bunch in advance</span>
                    &ndash;&nbsp;<a href="/users/507291/monty"
                       title="114 reputation"
                       class="comment-user">Monty</a>
                <span class="comment-date" dir="ltr"><span title="2016-06-19 18:30:46Z" class="relativetime-clean">Jun 19 at 18:30</span></span>
                                                                            </div>
                    </td>
    </tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-32048235" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>

  
<a name="26624092"></a>
<div id="answer-26624092" class="answer" data-answerid="26624092"  itemscope itemtype="http://schema.org/Answer">
    <table>
        <tr>
            <td class="votecell">
                

<div class="vote">
        <input type="hidden" name="_id_" value="26624092">
        <a class="vote-up-off" title="This answer is useful">up vote</a>
        <span itemprop="upvoteCount" class="vote-count-post ">0</span>
        <a class="vote-down-off" title="This answer is not useful">down vote</a>




</div>

            </td>
            


<td class="answercell">
    <div class="post-text" itemprop="text">
<ol>
<li><p>Convert to lab space</p></li>
<li><p>Use kmeans segment 2 cluster</p></li>
<li>Then use contours or hough on one of the clusters (intenral)</li>
</ol>
    </div>
    <table class="fw">
    <tr>
    <td class="vt">
<div class="post-menu"><a href="/a/26624092" title="short permalink to this answer" class="short-link" id="link-post-26624092">share</a><span class="lsep">|</span><a href="/posts/26624092/edit" class="suggest-edit-post" title="">improve this answer</a></div>                    </td>
    <td align="right" class="post-signature">
<div class="user-info user-hover">
    <div class="user-action-time">
        <a href="/posts/26624092/revisions" title="show all edits to this post">edited <span title="2014-10-29 07:24:19Z" class="relativetime">Oct 29 '14 at 7:24</span></a>
    </div>
    <div class="user-gravatar32">
        <a href="/users/815724/peter-o"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/9a514cd424088a3ba3012f5d77f2e334?s=32&amp;d=identicon&amp;r=PG" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/815724/peter-o">Peter O.</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score 16,083" dir="ltr">16.1k</span><span title="7 gold badges"><span class="badge1"></span><span class="badgecount">7</span></span><span title="48 silver badges"><span class="badge2"></span><span class="badgecount">48</span></span><span title="62 bronze badges"><span class="badge3"></span><span class="badgecount">62</span></span>
        </div>
    </div>
</div>    </td>
            


    <td align="right" class="post-signature">   
       

    <div class="user-info ">
    <div class="user-action-time">
        answered <span title="2014-10-29 06:37:17Z" class="relativetime">Oct 29 '14 at 6:37</span>
    </div>
    <div class="user-gravatar32">
        <a href="/users/3452134/user3452134"><div class="gravatar-wrapper-32"><img src="https://www.gravatar.com/avatar/6f59d9b0a8d89313f5ee91ffe36070bd?s=32&amp;d=identicon&amp;r=PG&amp;f=1" alt="" width="32" height="32"></div></a>
    </div>
    <div class="user-details">
        <a href="/users/3452134/user3452134">user3452134</a>
        <div class="-flair">
            <span class="reputation-score" title="reputation score " dir="ltr">19</span><span title="5 bronze badges"><span class="badge3"></span><span class="badgecount">5</span></span>
        </div>
    </div>
</div>
    </td>
    </tr>
    </table>
</td>
        </tr>
        
<tr>
    <td class="votecell"></td>
    <td>
	    <div id="comments-26624092" class="comments  dno">
		    <table>
                <tbody data-remaining-comments-count="0"
                       data-canpost="false"
                       data-cansee="true"
                       data-comments-unavailable="false"
                       data-addlink-disabled="true">

                        <tr><td></td><td></td></tr>
                </tbody>
		    </table>
	    </div>

        <div id="comments-link-26624092" data-rep=50 data-anon=true>

                <a class="js-add-link comments-link disabled-link "
                   title="Use comments to ask for more information or suggest improvements. Avoid comments like “+1” or “thanks”."
                   >add a comment</a><span class="js-link-separator dno">&nbsp;|&nbsp;</span>
            <a class="js-show-link comments-link dno" title="expand to show all comments on this post" href=# onclick=""></a>
        </div>         
    </td>
</tr>    </table>
</div>
									<a name='new-answer'></a>
						<form id="post-form" action="/questions/6555629/answer/submit" method="post"  class="post-form">
						    <input type="hidden" id="post-id" value="6555629" />
                            <input type="hidden" id="qualityBanWarningShown" name="qualityBanWarningShown" value="false" />
                            <input type="hidden" name="referrer" value=""/>
							<h2 class="space">Your Answer</h2>


            <script>
            StackExchange.ifUsing("editor", function () {
                StackExchange.using("externalEditor", function () {
                    StackExchange.using("snippets", function () {
                        StackExchange.snippets.init();
                    });
                });
            }, "code-snippets");
        </script>
    

<script>
    StackExchange.ready(function() {
        initTagRenderer("".split(" "), "".split(" "));
       
        StackExchange.using("externalEditor", function() {
                // Have to fire editor after snippets, if snippets enabled
                if (StackExchange.settings.snippets.snippetsEnabled) {
                    StackExchange.using("snippets", function() {
                        createEditor();
                    });
                }
                else {
                    createEditor();
                }
            });

            function createEditor() {
                prepareEditor({
                    heartbeatType: 'answer',
                convertImagesToLinks: true,
                reputationToPostImages: 10,
                bindNavPrevention: true,
                postfix: "",
                    onDemand: true,
                    discardSelector: ".discard-answer"
                    ,immediatelyShowMarkdownHelp:true
                    });
                

        }
    });  
</script>


<div id="post-editor" class="post-editor js-post-editor">

    <div style="position: relative;">     
        <div class="wmd-container">
            <div id="wmd-button-bar" class="wmd-button-bar"></div>
            <textarea id="wmd-input" class="wmd-input" name="post-text" cols="92" rows="15" tabindex="101" data-min-length=""></textarea>
        </div>
    </div>

    <div class="fl" style="margin-top: 8px; height:24px;">&nbsp;</div>
    <div id="draft-saved" class="draft-saved community-option fl" style="margin-top: 8px; height:24px; display:none;">draft saved</div>

    <div id="draft-discarded" class="draft-discarded community-option fl" style="margin-top: 8px; height:24px; display:none;">draft discarded</div>



    <div id="wmd-preview" class="wmd-preview"></div>
    <div></div>
    <div class="edit-block">
        <input id="fkey" name="fkey" type="hidden" value="1358f4d64632cce3c327aebee7e8b77e">
        <input id="author" name="author" type="text">
    </div>



</div>
							<div style="position: relative;">
								
								            <div class="form-item dno new-post-login">
        
                <div class="new-login-form">
                    <div class="new-login-left">
                        <h3>Sign up or <a id="login-link" href="/users/login?ssrc=question_page&returnurl=http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo%23new-answer">log in</a></h3>
                        <script>
                            StackExchange.ready(function () {
                                StackExchange.helpers.onClickDraftSave('#login-link');
                            });
                        </script>
                        <div class="preferred-login google-login">
                            <p><span class="icon"></span><span>Sign up using Google</span></p>
                        </div>
                        <div class="preferred-login facebook-login">
                            <p><span class="icon"></span><span>Sign up using Facebook</span></p>
                        </div>
                        <div class="preferred-login stackexchange-login">
                            <p><span class="icon"></span><span>Sign up using Email and Password</span></p>
                        </div>
                    </div>
                    <input type="hidden" name="manual-openid" class="manual-openid" />
                    <input type="hidden" name="use-facebook" class="use-facebook" value="false" />
                    <input type="hidden" name="use-google" class="use-google" value="false" />
                    <input type="button" class="submit-openid" value="Submit" style="display:none" />
                    <div class="new-login-right">
                                <h3>Post as a guest</h3>
    <div class="form-item">
        <table>
        <tr>
                    <td class="vm">
                <div>
                    <label for="display-name">Name</label>
                    <input id="display-name" name="display-name" type="text" size="30" maxlength="30" value="" tabindex="105">
                </div>
                <div>
                    <label for="m-address">Email</label>
                    <input id="m-address" name="m-address" type="email" size="30" maxlength="100" value="" tabindex="106" placeholder="required, but never shown" />
                </div>
            </td>
        </tr>
        </table>
    </div>

                    </div>
                </div>
            </div>
            <script>
                StackExchange.ready(
                    function () {
                        StackExchange.openid.initPostLogin('.new-post-login', 'http%3a%2f%2fstackoverflow.com%2fquestions%2f6555629%2falgorithm-to-detect-corners-of-paper-sheet-in-photo%23new-answer', 'question_page');
                    }
                );
            </script>
            <noscript>
                        <h3>Post as a guest</h3>
    <div class="form-item">
        <table>
        <tr>
                    <td class="vm">
                <div>
                    <label for="display-name">Name</label>
                    <input id="display-name" name="display-name" type="text" size="30" maxlength="30" value="" tabindex="105">
                </div>
                <div>
                    <label for="m-address">Email</label>
                    <input id="m-address" name="m-address" type="email" size="30" maxlength="100" value="" tabindex="106" placeholder="required, but never shown" />
                </div>
            </td>
        </tr>
        </table>
    </div>

            </noscript>

							</div>
           
															<div class="form-submit cbt">
									<input id="submit-button" type="submit" value="Post Your Answer" tabindex="110">
									<a href="#" class="btn-clear discard-answer dno">discard</a>

<p class="privacy-policy-agreement">
By posting your answer, you agree to the <a href='http://stackexchange.com/legal/privacy-policy' target='_blank'>privacy policy</a> and <a href='http://stackexchange.com/legal/terms-of-service' target='_blank'>terms of service</a>.</p>
<input type="hidden" name="legalLinksShown" value="1" />								</div>
						</form>



						<h2 class="bottom-notice" data-loc="1">
Not the answer you&#39;re looking for?							Browse other questions tagged <a href="/questions/tagged/image-processing" class="post-tag" title="show questions tagged &#39;image-processing&#39;" rel="tag">image-processing</a> <a href="/questions/tagged/opencv" class="post-tag" title="show questions tagged &#39;opencv&#39;" rel="tag">opencv</a> <a href="/questions/tagged/edge-detection" class="post-tag" title="show questions tagged &#39;edge-detection&#39;" rel="tag">edge-detection</a> <a href="/questions/tagged/hough-transform" class="post-tag" title="show questions tagged &#39;hough-transform&#39;" rel="tag">hough-transform</a> <a href="/questions/tagged/image-segmentation" class="post-tag" title="show questions tagged &#39;image-segmentation&#39;" rel="tag">image-segmentation</a>  or <a href="/questions/ask">ask your own question</a>.						</h2>
			</div>
		</div>
				<div id="sidebar" class="show-votes">
						    <div class="module question-stats">
			        <table id="qinfo">
			            <tr>
			                <td>
			                    <p class="label-key">asked</p>
			                </td>
			                <td style="padding-left: 10px">
			                    <p class="label-key" title="2011-07-02 07:12:23Z"><b>5 years ago</b></p>
			                </td>
			            </tr>
			            <tr>
			                <td>
			                    <p class="label-key">viewed</p>
			                </td>

			                <td style="padding-left: 10px">
			                    <p class="label-key">
			                        <b>24382 times</b>
			                    </p>
			                </td>
			            </tr>
			                <tr>
			                    <td>
			                        <p class="label-key">active</p>
			                    </td>
			                    <td style="padding-left: 10px">
			                        <p class="label-key"><b><a href="?lastactivity" class="lastactivity-link" title="2016-10-09 21:09:42Z">today</a></b></p>
			                    </td>
			                </tr>
			        </table>
			    </div>
						
			<script>
                var ados = ados || {}; ados.run = ados.run || [];
                ados.run.push(function () { ados_add_placement(22,8277,"adzerk67448293",[5,17,2221]).setZone(45); });
            </script>
            <div class="everyonelovesstackoverflow" id="adzerk67448293"></div>
            <div id="hireme"></div>
        <script>
;(function(n){var u=Object.assign||function(n){for(var i,r,u,f,e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(i=0,r=e;i<r.length;i++){u=r[i];for(f in u)n[f]=u[f]}return n},r,t,f,i;try{if(typeof[].indexOf!="function")return;if(r=["stackoverflow.com","serverfault.com","careers.stackoverflow.com","blog.codinghorror.com","joelonsoftware.com","www.joelonsoftware.com"],r[0]!=="*"&&r.indexOf(location.hostname)===-1)return;t=window;f=t.clc_opts?u({},window.clc_opts):{};t.clc_opts=u(n,f);void 0;t.clc_opts.autoload&&(t.clc_init=t.clc_init||[],t.clc_init.push(function(){return t.clc.load()}));i=document.createElement("script");i.async=!0;void 0;i.src=t.clc_opts.lib;document.body.appendChild(i)}catch(e){void 0}}).call(null, {"azw":true,"kt":2000,"tto":true,"autoload":true,"d":{"sb":["hireme","clc-sb"],"tlb":["careers1","clc-tlb"],"mlb":["careers3","clc-mlb"]},"allowed":["stackoverflow.com","serverfault.com","careers.stackoverflow.com","blog.codinghorror.com","joelonsoftware.com","www.joelonsoftware.com"],"h":"clc.stackoverflow.com","u":"//clc.stackoverflow.com/p.js","lib":"//cdn.sstatic.net/clc/clc.min.js?v=6f49b407ccbc"});        </script>
			

            <div class="module sidebar-linked">
	<h4 id="h-linked">Linked</h4>
	<div class="linked" data-tracker="lq=1">

<div class="spacer">
	<a href="/q/27035858" title="Vote score (upvotes - downvotes)">
		<div class="answer-votes  default">1</div>
	</a>
	<a href="/questions/27035858/detect-boundaries-of-a-document-in-an-image-using-opencv-java?noredirect=1" class="question-hyperlink">Detect boundaries of a document in an image using opencv java</a>
</div>			</div>
</div>

				<div class="module sidebar-related">
					<h4 id="h-related">Related</h4>
                    <div class="related js-gps-related-questions" data-tracker="rq=1">
                        <div class="spacer"><a href="/q/7227074" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">14</div></a><a href="/questions/7227074/horizontal-line-detection-with-opencv" class="question-hyperlink">Horizontal Line detection with OpenCV</a></div><div class="spacer"><a href="/q/10168686" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted extra-large">1029</div></a><a href="/questions/10168686/image-processing-algorithm-improvement-for-coca-cola-can-recognition" class="question-hyperlink">Image Processing: Algorithm Improvement for &#39;Coca-Cola Can&#39; Recognition</a></div><div class="spacer"><a href="/q/16665742" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">13</div></a><a href="/questions/16665742/a-good-approach-for-detecting-lines-in-an-image" class="question-hyperlink">A good approach for detecting lines in an image?</a></div><div class="spacer"><a href="/q/18686811" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">3</div></a><a href="/questions/18686811/simple-edge-line-detection" class="question-hyperlink">&ldquo;Simple&rdquo; edge - line - detection</a></div><div class="spacer"><a href="/q/20267195" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">0</div></a><a href="/questions/20267195/edge-detection-and-angle-extraction-with-open-cv" class="question-hyperlink">Edge Detection and Angle-Extraction with Open CV</a></div><div class="spacer"><a href="/q/21324950" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">2</div></a><a href="/questions/21324950/how-to-select-the-best-set-of-parameters-in-canny-edge-detection-algorithm-imple" class="question-hyperlink">How to select the best set of parameters in Canny Edge detection algorithm implemented in openCV?</a></div><div class="spacer"><a href="/q/22583264" title="Vote score (upvotes - downvotes)"><div class="answer-votes answered-accepted default">9</div></a><a href="/questions/22583264/rectangle-detection-in-image" class="question-hyperlink">Rectangle detection in image</a></div><div class="spacer"><a href="/q/27432717" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">0</div></a><a href="/questions/27432717/detecting-markers-in-image-to-use-for-perspective-transform-in-opencv" class="question-hyperlink">Detecting markers in image to use for perspective transform in OpenCV</a></div><div class="spacer"><a href="/q/33965993" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">0</div></a><a href="/questions/33965993/detecting-edges-of-lasers-lights-in-images-using-python" class="question-hyperlink">Detecting edges of lasers/lights in images using Python</a></div><div class="spacer"><a href="/q/35382093" title="Vote score (upvotes - downvotes)"><div class="answer-votes default">2</div></a><a href="/questions/35382093/why-hough-transformation-detect-same-line-twice" class="question-hyperlink">Why hough Transformation detect Same line twice</a></div>
                    </div>
				</div>
            
<div id="hot-network-questions" class="module">
    <h4>
        <a href="http://stackexchange.com/questions?tab=hot" 
           class="js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:1, location:11 })">
            Hot Network Questions
        </a>
    </h4>
    <ul>
            <li >
                <div class="favicon favicon-academia" title="Academia Stack Exchange"></div><a href="http://academia.stackexchange.com/questions/77859/my-math-students-consider-me-a-harsh-grader-is-my-teaching-attitude-wrong" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:415 }); posts_hot_network.click({ item_type:2, location:11 })">
                    My math students consider me a harsh grader. Is my teaching attitude wrong?
                </a>

            </li>
            <li >
                <div class="favicon favicon-serverfault" title="Server Fault"></div><a href="http://serverfault.com/questions/807959/what-is-the-difference-between-san-and-sni-ssl-certificates" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:2 }); posts_hot_network.click({ item_type:2, location:11 })">
                    What is the difference between SAN and SNI SSL certificates?
                </a>

            </li>
            <li >
                <div class="favicon favicon-ell" title="English Language Learners Stack Exchange"></div><a href="http://ell.stackexchange.com/questions/106098/question-from-mark-twains-quote" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:481 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Question from Mark Twain&#39;s quote
                </a>

            </li>
            <li >
                <div class="favicon favicon-earthscience" title="Earth Science Stack Exchange"></div><a href="http://earthscience.stackexchange.com/questions/8806/are-there-any-saltwater-rivers-on-earth" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:553 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Are there any saltwater rivers on Earth?
                </a>

            </li>
            <li >
                <div class="favicon favicon-worldbuilding" title="Worldbuilding Stack Exchange"></div><a href="http://worldbuilding.stackexchange.com/questions/57928/create-gold-from-lead-or-other-substances" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:579 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Create &quot;gold&quot; from lead (or other substances)
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="http://travel.stackexchange.com/questions/80399/train-and-bus-costs-in-switzerland" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Train and bus costs in Switzerland
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-history" title="History Stack Exchange"></div><a href="http://history.stackexchange.com/questions/33244/was-any-city-town-place-named-washington-prior-to-1790" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:324 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Was any city/town/place named &quot;Washington&quot; prior to 1790?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-photo" title="Photography Stack Exchange"></div><a href="http://photo.stackexchange.com/questions/83513/photoshops-color-replacement-tool-changes-to-grey-instead-of-white-how-can" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:61 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Photoshop&#39;s color replacement tool changes to grey (instead of white) — how can I change a grey background to pure white?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-travel" title="Travel Stack Exchange"></div><a href="http://travel.stackexchange.com/questions/80329/how-to-cope-with-too-slow-wi-fi-at-hotel" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:273 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to cope with too slow Wi-Fi at hotel?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/262567/current-through-heating-element-lower-than-resistance-suggests" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Current through heating element lower than resistance suggests
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-askubuntu" title="Ask Ubuntu"></div><a href="http://askubuntu.com/questions/834961/sox-and-rec-without-the-mic" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:89 }); posts_hot_network.click({ item_type:2, location:11 })">
                    sox and rec without the mic
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="http://money.stackexchange.com/questions/71549/can-homeowners-insurance-be-cancelled-for-non-removal-of-tree-debris" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Can Homeowners insurance be cancelled for non-removal of tree debris?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/261945/standard-way-for-novice-to-prevent-small-round-plug-from-rolling-away-while-sold" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Standard way for novice to prevent small round plug from rolling away while soldering wires to it
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-electronics" title="Electrical Engineering Stack Exchange"></div><a href="http://electronics.stackexchange.com/questions/262546/why-use-a-zener-in-a-regular-as-opposed-to-a-regular-diode" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:135 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why use a Zener in a regular as opposed to a regular diode?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-programmers" title="Programmers Stack Exchange"></div><a href="http://programmers.stackexchange.com/questions/332892/syntax-design-why-use-parentheses-when-no-arguments-are-passed" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:131 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Syntax Design - Why use parentheses when no arguments are passed?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-ethereum" title="Ethereum Stack Exchange"></div><a href="http://ethereum.stackexchange.com/questions/9142/how-to-convert-a-string-to-bytes32" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:642 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to convert a string to bytes32?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-english" title="English Language &amp; Usage Stack Exchange"></div><a href="http://english.stackexchange.com/questions/352516/looking-for-a-term-like-fundamentalism-but-without-a-religious-connotation" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:97 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Looking for a term like &quot;fundamentalism&quot;, but without a religious connotation
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-genealogy" title="Genealogy &amp; Family History Stack Exchange"></div><a href="http://genealogy.stackexchange.com/questions/12188/did-bigamous-marriages-need-to-be-annulled" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:467 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Did bigamous marriages need to be annulled?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-arduino" title="Arduino Stack Exchange"></div><a href="http://arduino.stackexchange.com/questions/30024/male-header-pins-on-arduino-uno" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:540 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Male header pins on Arduino Uno
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-rpg" title="Role-playing Games Stack Exchange"></div><a href="http://rpg.stackexchange.com/questions/88937/how-to-challenge-optimized-player-with-sharpshooter-feat" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:122 }); posts_hot_network.click({ item_type:2, location:11 })">
                    How to challenge optimized player with Sharpshooter feat
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-cs" title="Computer Science Stack Exchange"></div><a href="http://cs.stackexchange.com/questions/64397/does-every-dfa-contain-a-loop" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:419 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Does every DFA contain a loop?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-money" title="Personal Finance &amp; Money Stack Exchange"></div><a href="http://money.stackexchange.com/questions/71362/tenant-claims-they-paid-rent-in-cash-and-that-it-was-stolen-from-a-mailbox-what" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:93 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Tenant claims they paid rent in cash and that it was stolen from a mailbox. What should I do?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-history" title="History Stack Exchange"></div><a href="http://history.stackexchange.com/questions/33255/why-are-so-many-metros-underground-isnt-that-more-expensive-than-an-elevated-s" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:324 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Why are so many metros underground? Isn&#39;t that more expensive than an elevated system?
                </a>

            </li>
            <li class="dno js-hidden">
                <div class="favicon favicon-boardgames" title="Board &amp; Card Games Stack Exchange"></div><a href="http://boardgames.stackexchange.com/questions/32694/does-erebos-lose-indestructible-when-he-becomes-a-creature" class="js-gps-track" data-gps-track="site.switch({ item_type:11, target_site:147 }); posts_hot_network.click({ item_type:2, location:11 })">
                    Does Erebos lose indestructible when he becomes a creature?
                </a>

            </li>
    </ul>

        <a href="#" 
           class="show-more js-show-more js-gps-track" 
           data-gps-track="posts_hot_network.click({ item_type:3, location:11 })">
            more hot questions
        </a>
</div>
		</div>
	
<div id="feed-link">
    <div id="feed-link-text">
        <a href="/feeds/question/6555629" title="feed of this question and its answers">
            <span class="feed-icon"></span>question feed
        </a>
    </div>
</div>	<script>
StackExchange.ready(function(){$.get('/posts/6555629/ivc/d388');});
</script>
<noscript>
    <div><img src="/posts/6555629/ivc/d388" class="dno" alt="" width="0" height="0"></div>
</noscript><div style="display:none" id="prettify-lang"></div></div>


        </div>
    </div>
    <div id="footer" class="categories">
        <div class="footerwrap">            
            <div id="footer-menu">
                <div class="top-footer-links">
                    <a href="http://stackoverflow.com/company/about">about us</a>
                        <a href="/tour">tour</a>
                    <a href="/help">help</a>
                    <a href="http://blog.stackoverflow.com?blb=1">blog</a>
                        <a href="http://chat.stackoverflow.com">chat</a>
                    <a href="http://data.stackexchange.com">data</a>
                    <a href="http://stackexchange.com/legal">legal</a>
                    <a href="http://stackexchange.com/legal/privacy-policy">privacy policy</a>
                    <a href="http://stackoverflow.com/company/work-here">work here</a>
                    <a href="http://stackexchange.com/mediakit">advertising info</a>

                    <a onclick='StackExchange.switchMobile("on")'>mobile</a>
                    <b><a href="/contact">contact us</a></b>
                        <b><a href="http://meta.stackoverflow.com">feedback</a></b>
                    
                </div>
                <div id="footer-sites">
                    <table>
    <tr>
            <th colspan=4>
                Technology
            </th>
            <th colspan=2>
                Life / Arts
            </th>
            <th colspan=2>
                Culture / Recreation
            </th>
            <th colspan=2>
                Science
            </th>
            <th >
                Other
            </th>
    </tr>
    <tr>
            <td>
                <ol>
                        <li><a href="http://stackoverflow.com" title="professional and enthusiast programmers">Stack Overflow</a></li>
                        <li><a href="http://serverfault.com" title="system and network administrators">Server Fault</a></li>
                        <li><a href="http://superuser.com" title="computer enthusiasts and power users">Super User</a></li>
                        <li><a href="http://webapps.stackexchange.com" title="power users of web applications">Web Applications</a></li>
                        <li><a href="http://askubuntu.com" title="Ubuntu users and developers">Ask Ubuntu</a></li>
                        <li><a href="http://webmasters.stackexchange.com" title="pro webmasters">Webmasters</a></li>
                        <li><a href="http://gamedev.stackexchange.com" title="professional and independent game developers">Game Development</a></li>
                        <li><a href="http://tex.stackexchange.com" title="users of TeX, LaTeX, ConTeXt, and related typesetting systems">TeX - LaTeX</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://programmers.stackexchange.com" title="professional programmers interested in conceptual questions about software development">Programmers</a></li>
                        <li><a href="http://unix.stackexchange.com" title="users of Linux, FreeBSD and other Un*x-like operating systems">Unix &amp; Linux</a></li>
                        <li><a href="http://apple.stackexchange.com" title="power users of Apple hardware and software">Ask Different (Apple)</a></li>
                        <li><a href="http://wordpress.stackexchange.com" title="WordPress developers and administrators">WordPress Development</a></li>
                        <li><a href="http://gis.stackexchange.com" title="cartographers, geographers and GIS professionals">Geographic Information Systems</a></li>
                        <li><a href="http://electronics.stackexchange.com" title="electronics and electrical engineering professionals, students, and enthusiasts">Electrical Engineering</a></li>
                        <li><a href="http://android.stackexchange.com" title="enthusiasts and power users of the Android operating system">Android Enthusiasts</a></li>
                        <li><a href="http://security.stackexchange.com" title="information security professionals">Information Security</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://dba.stackexchange.com" title="database professionals who wish to improve their database skills and learn from others in the community">Database Administrators</a></li>
                        <li><a href="http://drupal.stackexchange.com" title="Drupal developers and administrators">Drupal Answers</a></li>
                        <li><a href="http://sharepoint.stackexchange.com" title="SharePoint enthusiasts">SharePoint</a></li>
                        <li><a href="http://ux.stackexchange.com" title="user experience researchers and experts">User Experience</a></li>
                        <li><a href="http://mathematica.stackexchange.com" title="users of Mathematica">Mathematica</a></li>
                        <li><a href="http://salesforce.stackexchange.com" title="Salesforce administrators, implementation experts, developers and anybody in-between">Salesforce</a></li>
                        <li><a href="http://expressionengine.stackexchange.com" title="administrators, end users, developers and designers for ExpressionEngine&#174; CMS">ExpressionEngine&#174; Answers</a></li>
                        <li><a href="http://crypto.stackexchange.com" title="software developers, mathematicians and others interested in cryptography">Cryptography</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://codereview.stackexchange.com" title="peer programmer code reviews">Code Review</a></li>
                        <li><a href="http://magento.stackexchange.com" title="users of the Magento e-Commerce platform">Magento</a></li>
                        <li><a href="http://dsp.stackexchange.com" title="practitioners of the art and science of signal, image and video processing">Signal Processing</a></li>
                        <li><a href="http://raspberrypi.stackexchange.com" title="users and developers of hardware and software for Raspberry Pi">Raspberry Pi</a></li>
                        <li><a href="http://codegolf.stackexchange.com" title="programming puzzle enthusiasts and code golfers">Programming Puzzles &amp; Code Golf</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#technology" class="more">
                                more (7)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://photo.stackexchange.com" title="professional, enthusiast and amateur photographers">Photography</a></li>
                        <li><a href="http://scifi.stackexchange.com" title="science fiction and fantasy enthusiasts">Science Fiction &amp; Fantasy</a></li>
                        <li><a href="http://graphicdesign.stackexchange.com" title="Graphic Design professionals, students, and enthusiasts">Graphic Design</a></li>
                        <li><a href="http://movies.stackexchange.com" title="movie and tv enthusiasts">Movies &amp; TV</a></li>
                        <li><a href="http://music.stackexchange.com" title="musicians, students, and enthusiasts">Music: Practice &amp; Theory</a></li>
                        <li><a href="http://cooking.stackexchange.com" title="professional and amateur chefs">Seasoned Advice (cooking)</a></li>
                        <li><a href="http://diy.stackexchange.com" title="contractors and serious DIYers">Home Improvement</a></li>
                        <li><a href="http://money.stackexchange.com" title="people who want to be financially literate">Personal Finance &amp; Money</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://academia.stackexchange.com" title="academics and those enrolled in higher education">Academia</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#lifearts" class="more">
                                more (8)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://english.stackexchange.com" title="linguists, etymologists, and serious English language enthusiasts">English Language &amp; Usage</a></li>
                        <li><a href="http://skeptics.stackexchange.com" title="scientific skepticism">Skeptics</a></li>
                        <li><a href="http://judaism.stackexchange.com" title="those who base their lives on Jewish law and tradition and anyone interested in learning more">Mi Yodeya (Judaism)</a></li>
                        <li><a href="http://travel.stackexchange.com" title="road warriors and seasoned travelers">Travel</a></li>
                        <li><a href="http://christianity.stackexchange.com" title="committed Christians, experts in Christianity and those interested in learning more">Christianity</a></li>
                        <li><a href="http://ell.stackexchange.com" title="speakers of other languages learning English">English Language Learners</a></li>
                        <li><a href="http://japanese.stackexchange.com" title="students, teachers, and linguists wanting to discuss the finer points of the Japanese language">Japanese Language</a></li>
                        <li><a href="http://gaming.stackexchange.com" title="passionate videogamers on all platforms">Arqade (gaming)</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://bicycles.stackexchange.com" title="people who build and repair bicycles, people who train cycling, or commute on bicycles">Bicycles</a></li>
                        <li><a href="http://rpg.stackexchange.com" title="gamemasters and players of tabletop, paper-and-pencil role-playing games">Role-playing Games</a></li>
                        <li><a href="http://anime.stackexchange.com" title="anime and manga fans">Anime &amp; Manga</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#culturerecreation" class="more">
                                more (18)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://math.stackexchange.com" title="people studying math at any level and professionals in related fields">Mathematics</a></li>
                        <li><a href="http://stats.stackexchange.com" title="people interested in statistics, machine learning, data analysis, data mining, and data visualization">Cross Validated (stats)</a></li>
                        <li><a href="http://cstheory.stackexchange.com" title="theoretical computer scientists and researchers in related fields">Theoretical Computer Science</a></li>
                        <li><a href="http://physics.stackexchange.com" title="active researchers, academics and students of physics">Physics</a></li>
                        <li><a href="http://mathoverflow.net" title="professional mathematicians">MathOverflow</a></li>
                        <li><a href="http://chemistry.stackexchange.com" title="scientists, academics, teachers and students">Chemistry</a></li>
                        <li><a href="http://biology.stackexchange.com" title="biology researchers, academics, and students">Biology</a></li>
                        <li><a href="http://cs.stackexchange.com" title="students, researchers and practitioners of computer science">Computer Science</a></li>
                            </ol></td><td><ol>
                        <li><a href="http://philosophy.stackexchange.com" title="those interested in logical reasoning">Philosophy</a></li>
                    
                        <li>
                            <a href="http://stackexchange.com/sites#science" class="more">
                                more (3)
                            </a>
                        </li>
                </ol>
            </td>
            <td>
                <ol>
                        <li><a href="http://stackapps.com" title="apps, scripts, and development with the Stack Exchange API">Stack Apps</a></li>
                        <li><a href="http://meta.stackexchange.com" title="meta-discussion of the Stack Exchange family of Q&amp;A websites">Meta Stack Exchange</a></li>
                        <li><a href="http://area51.stackexchange.com" title="proposing new sites in the Stack Exchange network">Area 51</a></li>
                        <li><a href="http://careers.stackoverflow.com">Stack Overflow Careers</a></li>
                    
                </ol>
            </td>
    </tr>
</table>
                </div>
            </div>
            <div id="copyright">
                site design / logo &#169; 2016 Stack Exchange Inc; user contributions licensed under <a href="https://creativecommons.org/licenses/by-sa/3.0/" rel="license">cc by-sa 3.0</a> 
                with <a href="http://blog.stackoverflow.com/2009/06/attribution-required/" rel="license">attribution required</a>
            </div>
            <div id="svnrev">
                rev 2016.10.8.4048
            </div>
                </div>
    </div>
    <noscript>
        <div id="noscript-warning">Stack Overflow works best with JavaScript enabled<img src="http://pixel.quantserve.com/pixel/p-c1rF4kxgLUzNc.gif" alt="" class="dno"></div>
    </noscript>
<script>var p = "http", d = "static"; if (document.location.protocol == "https:") { p += "s"; d = "engine"; } var z = document.createElement("script"); z.type = "text/javascript"; z.async = true; z.src = p + "://" + d + ".adzerk.net/ados.js"; var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(z, s);</script>
<script>
    var ados = ados || {};
    ados.run = ados.run || [];
    
    
        
        ados.run.push(function () {
                setTimeout(function () { $("#adzerk-user-match").remove(); }, window.AUMIframeDone ? 0 : 2000);
                ados_setKeywords('image-processing,opencv,edge-detection,hough-transform,image-segmentation');; ados_load();
        });   
        
</script>

    <script>
            (function(i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m);
            })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
            
            ga('create', 'UA-5620270-1');
            ga('set', 'dimension2', '|image-processing|opencv|edge-detection|hough-transform|image-segmentation|');             ga('send', 'pageview');
        
        var _qevents = _qevents || [],
            _comscore = _comscore || [];
        (function () {
            var ssl='https:'==document.location.protocol,
                s=document.getElementsByTagName('script')[0],
                qc=document.createElement('script');
                qc.async = true;
                qc.src = (ssl ? 'https://secure' : 'http://edge') + '.quantserve.com/quant.js';
                s.parentNode.insertBefore(qc, s);
                _qevents.push({ qacct: "p-c1rF4kxgLUzNc" });
                            var sc=document.createElement('script');
                sc.async=true;
                sc.src=(ssl?'https://sb':'http://b') + '.scorecardresearch.com/beacon.js';
                s.parentNode.insertBefore(sc, s);
                _comscore.push({ c1: "2", c2: "17440561" });
        })();

    </script>
        
    
            <script type="text/javascript">
                
                (function(appendChild) {
                    Node.prototype.appendChild = function() {
                        var parent = this;
                        var newNode = arguments[0];
                        if (parent.nodeName === 'HEAD'
                            && newNode
                            && newNode.nodeName === 'SCRIPT'
                            && newNode.src) {
                            
                            window.setTimeout(function() {
                                var result = newNode.src.match(/^https:\/\/maps\.googleapis\.com\/maps\/api\/place\/js\/(\w+)Service\./i) || [];
                                var service = result[1];
                                if (service) {
                                    if (service === 'Autocompletion') service =  2;
                                    else if (service === 'Place') service = 1;
                                    else service = 0;
                                    StackExchange.using('gps', function() {
                                        StackExchange.gps.track('google_maps_places_api.call', { service: service });
                                    });
                                }
                            }, 0);
                        }
                        return appendChild.apply(this, arguments);
                    };
                })(Node.prototype.appendChild);
            </script>
    </body>
</html>